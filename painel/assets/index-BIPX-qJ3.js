function Vp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var rh={exports:{}},Mo={},sh={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),eg=Symbol.for("react.memo"),tg=Symbol.for("react.lazy"),xu=Symbol.iterator;function ng(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oh=Object.assign,ah={};function us(e,t,n){this.props=e,this.context=t,this.refs=ah,this.updater=n||ih}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lh(){}lh.prototype=us.prototype;function dc(e,t,n){this.props=e,this.context=t,this.refs=ah,this.updater=n||ih}var hc=dc.prototype=new lh;hc.constructor=dc;oh(hc,us.prototype);hc.isPureReactComponent=!0;var ju=Array.isArray,ch=Object.prototype.hasOwnProperty,fc={current:null},uh={key:!0,ref:!0,__self:!0,__source:!0};function dh(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ch.call(t,r)&&!uh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hi,type:e,key:i,ref:a,props:s,_owner:fc.current}}function rg(e,t){return{$$typeof:hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mc(e){return typeof e=="object"&&e!==null&&e.$$typeof===hi}function sg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _u=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sg(""+e.key):t.toString(36)}function Yi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case hi:case Hp:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+pa(a,0):r,ju(s)?(n="",e!=null&&(n=e.replace(_u,"$&/")+"/"),Yi(s,t,n,"",function(u){return u})):s!=null&&(mc(s)&&(s=rg(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_u,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",ju(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+pa(i,l);a+=Yi(i,t,n,c,s)}else if(c=ng(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+pa(i,l++),a+=Yi(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bi(e,t,n){if(e==null)return e;var r=[],s=0;return Yi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ig(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Xi={transition:null},og={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Xi,ReactCurrentOwner:fc};function hh(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:bi,forEach:function(e,t,n){bi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bi(e,function(){t++}),t},toArray:function(e){return bi(e,function(t){return t})||[]},only:function(e){if(!mc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=us;Y.Fragment=Kp;Y.Profiler=Gp;Y.PureComponent=dc;Y.StrictMode=Qp;Y.Suspense=Zp;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;Y.act=hh;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=oh({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=fc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ch.call(t,c)&&!uh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hi,type:e.type,key:s,ref:i,props:r,_owner:a}};Y.createContext=function(e){return e={$$typeof:Yp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jp,_context:e},e.Consumer=e};Y.createElement=dh;Y.createFactory=function(e){var t=dh.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Xp,render:e}};Y.isValidElement=mc;Y.lazy=function(e){return{$$typeof:tg,_payload:{_status:-1,_result:e},_init:ig}};Y.memo=function(e,t){return{$$typeof:eg,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Xi.transition;Xi.transition={};try{e()}finally{Xi.transition=t}};Y.unstable_act=hh;Y.useCallback=function(e,t){return rt.current.useCallback(e,t)};Y.useContext=function(e){return rt.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};Y.useEffect=function(e,t){return rt.current.useEffect(e,t)};Y.useId=function(){return rt.current.useId()};Y.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return rt.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};Y.useRef=function(e){return rt.current.useRef(e)};Y.useState=function(e){return rt.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return rt.current.useTransition()};Y.version="18.3.1";sh.exports=Y;var y=sh.exports;const pc=qp(y),ag=Vp({__proto__:null,default:pc},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=y,cg=Symbol.for("react.element"),ug=Symbol.for("react.fragment"),dg=Object.prototype.hasOwnProperty,hg=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fg={key:!0,ref:!0,__self:!0,__source:!0};function fh(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)dg.call(t,r)&&!fg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:cg,type:e,key:i,ref:a,props:s,_owner:hg.current}}Mo.Fragment=ug;Mo.jsx=fh;Mo.jsxs=fh;rh.exports=Mo;var o=rh.exports,tl={},mh={exports:{}},jt={},ph={exports:{}},gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var $=A.length;A.push(D);e:for(;0<$;){var X=$-1>>>1,G=A[X];if(0<s(G,D))A[X]=D,A[$]=G,$=X;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],$=A.pop();if($!==D){A[0]=$;e:for(var X=0,G=A.length,Ee=G>>>1;X<Ee;){var q=2*(X+1)-1,ke=A[q],H=q+1,De=A[H];if(0>s(ke,$))H<G&&0>s(De,ke)?(A[X]=De,A[H]=$,X=H):(A[X]=ke,A[q]=$,X=q);else if(H<G&&0>s(De,$))A[X]=De,A[H]=$,X=H;else break e}}return D}function s(A,D){var $=A.sortIndex-D.sortIndex;return $!==0?$:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,v=!1,w=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=A)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function j(A){if(x=!1,p(A),!w)if(n(c)!==null)w=!0,de(C);else{var D=n(u);D!==null&&Ae(j,D.startTime-A)}}function C(A,D){w=!1,x&&(x=!1,g(R),R=-1),v=!0;var $=f;try{for(p(D),h=n(c);h!==null&&(!(h.expirationTime>D)||A&&!ee());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var G=X(h.expirationTime<=D);D=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(c)&&r(c),p(D)}else r(c);h=n(c)}if(h!==null)var Ee=!0;else{var q=n(u);q!==null&&Ae(j,q.startTime-D),Ee=!1}return Ee}finally{h=null,f=$,v=!1}}var k=!1,E=null,R=-1,V=5,L=-1;function ee(){return!(e.unstable_now()-L<V)}function Q(){if(E!==null){var A=e.unstable_now();L=A;var D=!0;try{D=E(!0,A)}finally{D?W():(k=!1,E=null)}}else k=!1}var W;if(typeof m=="function")W=function(){m(Q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ie=ne.port2;ne.port1.onmessage=Q,W=function(){ie.postMessage(null)}}else W=function(){N(Q,0)};function de(A){E=A,k||(k=!0,W())}function Ae(A,D){R=N(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,de(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var $=f;f=D;try{return A()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=f;f=A;try{return D()}finally{f=$}},e.unstable_scheduleCallback=function(A,D,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,A={id:d++,callback:D,priorityLevel:A,startTime:$,expirationTime:G,sortIndex:-1},$>X?(A.sortIndex=$,t(u,A),n(c)===null&&A===n(u)&&(x?(g(R),R=-1):x=!0,Ae(j,$-X))):(A.sortIndex=G,t(c,A),w||v||(w=!0,de(C))),A},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(A){var D=f;return function(){var $=f;f=D;try{return A.apply(this,arguments)}finally{f=$}}}})(gh);ph.exports=gh;var mg=ph.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=y,xt=mg;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vh=new Set,Ws={};function jr(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(Ws[e]=t,e=0;e<t.length;e++)vh.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=Object.prototype.hasOwnProperty,gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nu={},ku={};function vg(e){return nl.call(ku,e)?!0:nl.call(Nu,e)?!1:gg.test(e)?ku[e]=!0:(Nu[e]=!0,!1)}function yg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wg(e,t,n,r){if(t===null||typeof t>"u"||yg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var gc=/[\-:]([a-z])/g;function vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gc,vc);Ke[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gc,vc);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gc,vc);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function yc(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wg(t,n,s,r)&&(n=null),r||s===null?vg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),rl=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),xc=Symbol.for("react.forward_ref"),sl=Symbol.for("react.suspense"),il=Symbol.for("react.suspense_list"),jc=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),xh=Symbol.for("react.offscreen"),Su=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,ga;function Es(e){if(ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var va=!1;function ya(e,t){if(!e||va)return"";va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{va=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Es(e):""}function xg(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Or:return"Portal";case rl:return"Profiler";case wc:return"StrictMode";case sl:return"Suspense";case il:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wh:return(e.displayName||"Context")+".Consumer";case yh:return(e._context.displayName||"Context")+".Provider";case xc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jc:return t=e.displayName||null,t!==null?t:ol(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return ol(e(t))}catch{}}return null}function jg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ol(t);case 8:return t===wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _g(e){var t=jh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ti(e){e._valueTracker||(e._valueTracker=_g(e))}function _h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function al(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nh(e,t){t=t.checked,t!=null&&yc(e,"checked",t,!1)}function ll(e,t){Nh(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cl(e,t.type,n):t.hasOwnProperty("defaultValue")&&cl(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cl(e,t,n){(t!=="number"||co(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bs=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(bs(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function kh(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ai,Ch=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ng=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){Ng.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function Eh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function bh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Eh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var kg=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hl(e,t){if(t){if(kg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pl=null,Kr=null,Qr=null;function Tu(e){if(e=pi(e)){if(typeof pl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Vo(t),pl(e.stateNode,e.type,t))}}function Ph(e){Kr?Qr?Qr.push(e):Qr=[e]:Kr=e}function Th(){if(Kr){var e=Kr,t=Qr;if(Qr=Kr=null,Tu(e),t)for(e=0;e<t.length;e++)Tu(t[e])}}function Ah(e,t){return e(t)}function Rh(){}var wa=!1;function Ih(e,t,n){if(wa)return e(t,n);wa=!0;try{return Ah(e,t,n)}finally{wa=!1,(Kr!==null||Qr!==null)&&(Rh(),Th())}}function Ks(e,t){var n=e.stateNode;if(n===null)return null;var r=Vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var gl=!1;if(gn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){gl=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{gl=!1}function Sg(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Is=!1,uo=null,ho=!1,vl=null,Cg={onError:function(e){Is=!0,uo=e}};function Eg(e,t,n,r,s,i,a,l,c){Is=!1,uo=null,Sg.apply(Cg,arguments)}function bg(e,t,n,r,s,i,a,l,c){if(Eg.apply(this,arguments),Is){if(Is){var u=uo;Is=!1,uo=null}else throw Error(T(198));ho||(ho=!0,vl=u)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Oh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Au(e){if(_r(e)!==e)throw Error(T(188))}function Pg(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Au(s),e;if(i===r)return Au(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Lh(e){return e=Pg(e),e!==null?$h(e):null}function $h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$h(e);if(t!==null)return t;e=e.sibling}return null}var Dh=xt.unstable_scheduleCallback,Ru=xt.unstable_cancelCallback,Tg=xt.unstable_shouldYield,Ag=xt.unstable_requestPaint,Ce=xt.unstable_now,Rg=xt.unstable_getCurrentPriorityLevel,Nc=xt.unstable_ImmediatePriority,Mh=xt.unstable_UserBlockingPriority,fo=xt.unstable_NormalPriority,Ig=xt.unstable_LowPriority,Uh=xt.unstable_IdlePriority,Uo=null,Zt=null;function Og(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Uo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Dg,Lg=Math.log,$g=Math.LN2;function Dg(e){return e>>>=0,e===0?32:31-(Lg(e)/$g|0)|0}var Ri=64,Ii=4194304;function Ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ps(l):(i&=a,i!==0&&(r=Ps(i)))}else a=n&~s,a!==0?r=Ps(a):i!==0&&(r=Ps(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function Mg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ut(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Mg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fh(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Fg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function kc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function Bh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zh,Sc,Vh,qh,Wh,wl=!1,Oi=[],$n=null,Dn=null,Mn=null,Qs=new Map,Gs=new Map,Pn=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function xs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pi(t),t!==null&&Sc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zg(e,t,n,r,s){switch(t){case"focusin":return $n=xs($n,e,t,n,r,s),!0;case"dragenter":return Dn=xs(Dn,e,t,n,r,s),!0;case"mouseover":return Mn=xs(Mn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qs.set(i,xs(Qs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gs.set(i,xs(Gs.get(i)||null,e,t,n,r,s)),!0}return!1}function Hh(e){var t=ur(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=Oh(n),t!==null){e.blockedOn=t,Wh(e.priority,function(){Vh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ml=r,n.target.dispatchEvent(r),ml=null}else return t=pi(n),t!==null&&Sc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ou(e,t,n){Zi(e)&&n.delete(t)}function Vg(){wl=!1,$n!==null&&Zi($n)&&($n=null),Dn!==null&&Zi(Dn)&&(Dn=null),Mn!==null&&Zi(Mn)&&(Mn=null),Qs.forEach(Ou),Gs.forEach(Ou)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Vg)))}function Js(e){function t(s){return js(s,e)}if(0<Oi.length){js(Oi[0],e);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for($n!==null&&js($n,e),Dn!==null&&js(Dn,e),Mn!==null&&js(Mn,e),Qs.forEach(t),Gs.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&Pn.shift()}var Gr=xn.ReactCurrentBatchConfig,po=!0;function qg(e,t,n,r){var s=se,i=Gr.transition;Gr.transition=null;try{se=1,Cc(e,t,n,r)}finally{se=s,Gr.transition=i}}function Wg(e,t,n,r){var s=se,i=Gr.transition;Gr.transition=null;try{se=4,Cc(e,t,n,r)}finally{se=s,Gr.transition=i}}function Cc(e,t,n,r){if(po){var s=xl(e,t,n,r);if(s===null)Ta(e,t,r,go,n),Iu(e,r);else if(zg(s,e,t,n,r))r.stopPropagation();else if(Iu(e,r),t&4&&-1<Bg.indexOf(e)){for(;s!==null;){var i=pi(s);if(i!==null&&zh(i),i=xl(e,t,n,r),i===null&&Ta(e,t,r,go,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ta(e,t,r,null,n)}}var go=null;function xl(e,t,n,r){if(go=null,e=_c(r),e=ur(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Oh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function Kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rg()){case Nc:return 1;case Mh:return 4;case fo:case Ig:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var Rn=null,Ec=null,eo=null;function Qh(){if(eo)return eo;var e,t=Ec,n=t.length,r,s="value"in Rn?Rn.value:Rn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return eo=s.slice(e,1<r?1-r:void 0)}function to(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Lu(){return!1}function _t(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Li:Lu,this.isPropagationStopped=Lu,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=_t(ds),mi=xe({},ds,{view:0,detail:0}),Hg=_t(mi),ja,_a,_s,Fo=xe({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(ja=e.screenX-_s.screenX,_a=e.screenY-_s.screenY):_a=ja=0,_s=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),$u=_t(Fo),Kg=xe({},Fo,{dataTransfer:0}),Qg=_t(Kg),Gg=xe({},mi,{relatedTarget:0}),Na=_t(Gg),Jg=xe({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Yg=_t(Jg),Xg=xe({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zg=_t(Xg),ev=xe({},ds,{data:0}),Du=_t(ev),tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rv[e])?!!t[e]:!1}function Pc(){return sv}var iv=xe({},mi,{key:function(e){if(e.key){var t=tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=to(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(e){return e.type==="keypress"?to(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?to(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ov=_t(iv),av=xe({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=_t(av),lv=xe({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),cv=_t(lv),uv=xe({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=_t(uv),hv=xe({},Fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=_t(hv),mv=[9,13,27,32],Tc=gn&&"CompositionEvent"in window,Os=null;gn&&"documentMode"in document&&(Os=document.documentMode);var pv=gn&&"TextEvent"in window&&!Os,Gh=gn&&(!Tc||Os&&8<Os&&11>=Os),Uu=" ",Fu=!1;function Jh(e,t){switch(e){case"keyup":return mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function gv(e,t){switch(e){case"compositionend":return Yh(t);case"keypress":return t.which!==32?null:(Fu=!0,Uu);case"textInput":return e=t.data,e===Uu&&Fu?null:e;default:return null}}function vv(e,t){if($r)return e==="compositionend"||!Tc&&Jh(e,t)?(e=Qh(),eo=Ec=Rn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gh&&t.locale!=="ko"?null:t.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yv[e.type]:t==="textarea"}function Xh(e,t,n,r){Ph(r),t=vo(t,"onChange"),0<t.length&&(n=new bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ls=null,Ys=null;function wv(e){uf(e,0)}function Bo(e){var t=Ur(e);if(_h(t))return e}function xv(e,t){if(e==="change")return t}var Zh=!1;if(gn){var ka;if(gn){var Sa="oninput"in document;if(!Sa){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Sa=typeof zu.oninput=="function"}ka=Sa}else ka=!1;Zh=ka&&(!document.documentMode||9<document.documentMode)}function Vu(){Ls&&(Ls.detachEvent("onpropertychange",ef),Ys=Ls=null)}function ef(e){if(e.propertyName==="value"&&Bo(Ys)){var t=[];Xh(t,Ys,e,_c(e)),Ih(wv,t)}}function jv(e,t,n){e==="focusin"?(Vu(),Ls=t,Ys=n,Ls.attachEvent("onpropertychange",ef)):e==="focusout"&&Vu()}function _v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bo(Ys)}function Nv(e,t){if(e==="click")return Bo(t)}function kv(e,t){if(e==="input"||e==="change")return Bo(t)}function Sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Sv;function Xs(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nl.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var n=qu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qu(n)}}function tf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(){for(var e=window,t=co();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=co(e.document)}return t}function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cv(e){var t=nf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tf(n.ownerDocument.documentElement,n)){if(r!==null&&Ac(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Wu(n,i);var a=Wu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ev=gn&&"documentMode"in document&&11>=document.documentMode,Dr=null,jl=null,$s=null,_l=!1;function Hu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||Dr==null||Dr!==co(r)||(r=Dr,"selectionStart"in r&&Ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$s&&Xs($s,r)||($s=r,r=vo(jl,"onSelect"),0<r.length&&(t=new bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},Ca={},rf={};gn&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function zo(e){if(Ca[e])return Ca[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rf)return Ca[e]=t[n];return e}var sf=zo("animationend"),of=zo("animationiteration"),af=zo("animationstart"),lf=zo("transitionend"),cf=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){cf.set(e,t),jr(t,[e])}for(var Ea=0;Ea<Ku.length;Ea++){var ba=Ku[Ea],bv=ba.toLowerCase(),Pv=ba[0].toUpperCase()+ba.slice(1);Hn(bv,"on"+Pv)}Hn(sf,"onAnimationEnd");Hn(of,"onAnimationIteration");Hn(af,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(lf,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Qu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bg(r,t,void 0,e),e.currentTarget=null}function uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Qu(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Qu(s,l,u),i=c}}}if(ho)throw e=vl,ho=!1,vl=null,e}function fe(e,t){var n=t[El];n===void 0&&(n=t[El]=new Set);var r=e+"__bubble";n.has(r)||(df(t,e,2,!1),n.add(r))}function Pa(e,t,n){var r=0;t&&(r|=4),df(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[Di]){e[Di]=!0,vh.forEach(function(n){n!=="selectionchange"&&(Tv.has(n)||Pa(n,!1,e),Pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,Pa("selectionchange",!1,t))}}function df(e,t,n,r){switch(Kh(t)){case 1:var s=qg;break;case 4:s=Wg;break;default:s=Cc}n=s.bind(null,t,n,e),s=void 0,!gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ta(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ur(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Ih(function(){var u=i,d=_c(n),h=[];e:{var f=cf.get(e);if(f!==void 0){var v=bc,w=e;switch(e){case"keypress":if(to(n)===0)break e;case"keydown":case"keyup":v=ov;break;case"focusin":w="focus",v=Na;break;case"focusout":w="blur",v=Na;break;case"beforeblur":case"afterblur":v=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=cv;break;case sf:case of:case af:v=Yg;break;case lf:v=dv;break;case"scroll":v=Hg;break;case"wheel":v=fv;break;case"copy":case"cut":case"paste":v=Zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mu}var x=(t&4)!==0,N=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,p;m!==null;){p=m;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,g!==null&&(j=Ks(m,g),j!=null&&x.push(ei(m,j,p)))),N)break;m=m.return}0<x.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==ml&&(w=n.relatedTarget||n.fromElement)&&(ur(w)||w[vn]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?ur(w):null,w!==null&&(N=_r(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(x=$u,j="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Mu,j="onPointerLeave",g="onPointerEnter",m="pointer"),N=v==null?f:Ur(v),p=w==null?f:Ur(w),f=new x(j,m+"leave",v,n,d),f.target=N,f.relatedTarget=p,j=null,ur(d)===u&&(x=new x(g,m+"enter",w,n,d),x.target=p,x.relatedTarget=N,j=x),N=j,v&&w)t:{for(x=v,g=w,m=0,p=x;p;p=Cr(p))m++;for(p=0,j=g;j;j=Cr(j))p++;for(;0<m-p;)x=Cr(x),m--;for(;0<p-m;)g=Cr(g),p--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=Cr(x),g=Cr(g)}x=null}else x=null;v!==null&&Gu(h,f,v,x,!1),w!==null&&N!==null&&Gu(h,N,w,x,!0)}}e:{if(f=u?Ur(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var C=xv;else if(Bu(f))if(Zh)C=kv;else{C=_v;var k=jv}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Nv);if(C&&(C=C(e,u))){Xh(h,C,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&cl(f,"number",f.value)}switch(k=u?Ur(u):window,e){case"focusin":(Bu(k)||k.contentEditable==="true")&&(Dr=k,jl=u,$s=null);break;case"focusout":$s=jl=Dr=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Hu(h,n,d);break;case"selectionchange":if(Ev)break;case"keydown":case"keyup":Hu(h,n,d)}var E;if(Tc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $r?Jh(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Gh&&n.locale!=="ko"&&($r||R!=="onCompositionStart"?R==="onCompositionEnd"&&$r&&(E=Qh()):(Rn=d,Ec="value"in Rn?Rn.value:Rn.textContent,$r=!0)),k=vo(u,R),0<k.length&&(R=new Du(R,e,null,n,d),h.push({event:R,listeners:k}),E?R.data=E:(E=Yh(n),E!==null&&(R.data=E)))),(E=pv?gv(e,n):vv(e,n))&&(u=vo(u,"onBeforeInput"),0<u.length&&(d=new Du("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=E))}uf(h,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ks(e,n),i!=null&&r.unshift(ei(e,i,s)),i=Ks(e,t),i!=null&&r.push(ei(e,i,s))),e=e.return}return r}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ks(n,i),c!=null&&a.unshift(ei(n,c,l))):s||(c=Ks(n,i),c!=null&&a.push(ei(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Av=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(Av,`
`).replace(Rv,"")}function Mi(e,t,n){if(t=Ju(t),Ju(e)!==t&&n)throw Error(T(425))}function yo(){}var Nl=null,kl=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Lv)}:Cl;function Lv(e){setTimeout(function(){throw e})}function Aa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Js(t)}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+hs,ti="__reactProps$"+hs,vn="__reactContainer$"+hs,El="__reactEvents$"+hs,$v="__reactListeners$"+hs,Dv="__reactHandles$"+hs;function ur(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xu(e);e!==null;){if(n=e[Yt])return n;e=Xu(e)}return t}e=n,n=e.parentNode}return null}function pi(e){return e=e[Yt]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Vo(e){return e[ti]||null}var bl=[],Fr=-1;function Kn(e){return{current:e}}function me(e){0>Fr||(e.current=bl[Fr],bl[Fr]=null,Fr--)}function ue(e,t){Fr++,bl[Fr]=e.current,e.current=t}var Wn={},Ze=Kn(Wn),ft=Kn(!1),gr=Wn;function Zr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function wo(){me(ft),me(Ze)}function Zu(e,t,n){if(Ze.current!==Wn)throw Error(T(168));ue(Ze,t),ue(ft,n)}function hf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,jg(e)||"Unknown",s));return xe({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,gr=Ze.current,ue(Ze,e),ue(ft,ft.current),!0}function ed(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=hf(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,me(ft),me(Ze),ue(Ze,e)):me(ft),ue(ft,n)}var hn=null,qo=!1,Ra=!1;function ff(e){hn===null?hn=[e]:hn.push(e)}function Mv(e){qo=!0,ff(e)}function Qn(){if(!Ra&&hn!==null){Ra=!0;var e=0,t=se;try{var n=hn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hn=null,qo=!1}catch(s){throw hn!==null&&(hn=hn.slice(e+1)),Dh(Nc,Qn),s}finally{se=t,Ra=!1}}return null}var Br=[],zr=0,jo=null,_o=0,kt=[],St=0,vr=null,fn=1,mn="";function or(e,t){Br[zr++]=_o,Br[zr++]=jo,jo=e,_o=t}function mf(e,t,n){kt[St++]=fn,kt[St++]=mn,kt[St++]=vr,vr=e;var r=fn;e=mn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var i=32-Ut(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,fn=1<<32-Ut(t)+s|n<<s|r,mn=i+e}else fn=1<<i|n<<s|r,mn=e}function Rc(e){e.return!==null&&(or(e,1),mf(e,1,0))}function Ic(e){for(;e===jo;)jo=Br[--zr],Br[zr]=null,_o=Br[--zr],Br[zr]=null;for(;e===vr;)vr=kt[--St],kt[St]=null,mn=kt[--St],kt[St]=null,fn=kt[--St],kt[St]=null}var wt=null,yt=null,ve=!1,Mt=null;function pf(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function td(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,yt=Un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vr!==null?{id:fn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,yt=null,!0):!1;default:return!1}}function Pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tl(e){if(ve){var t=yt;if(t){var n=t;if(!td(e,t)){if(Pl(e))throw Error(T(418));t=Un(n.nextSibling);var r=wt;t&&td(e,t)?pf(r,n):(e.flags=e.flags&-4097|2,ve=!1,wt=e)}}else{if(Pl(e))throw Error(T(418));e.flags=e.flags&-4097|2,ve=!1,wt=e}}}function nd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Ui(e){if(e!==wt)return!1;if(!ve)return nd(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=yt)){if(Pl(e))throw gf(),Error(T(418));for(;t;)pf(e,t),t=Un(t.nextSibling)}if(nd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=wt?Un(e.stateNode.nextSibling):null;return!0}function gf(){for(var e=yt;e;)e=Un(e.nextSibling)}function es(){yt=wt=null,ve=!1}function Oc(e){Mt===null?Mt=[e]:Mt.push(e)}var Uv=xn.ReactCurrentBatchConfig;function Ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Fi(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rd(e){var t=e._init;return t(e._payload)}function vf(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Vn(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,j){return m===null||m.tag!==6?(m=Ua(p,g.mode,j),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,j){var C=p.type;return C===Lr?d(g,m,p.props.children,j,p.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&rd(C)===m.type)?(j=s(m,p.props),j.ref=Ns(g,m,p),j.return=g,j):(j=lo(p.type,p.key,p.props,null,g.mode,j),j.ref=Ns(g,m,p),j.return=g,j)}function u(g,m,p,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Fa(p,g.mode,j),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,j,C){return m===null||m.tag!==7?(m=mr(p,g.mode,j,C),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ua(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pi:return p=lo(m.type,m.key,m.props,null,g.mode,p),p.ref=Ns(g,null,m),p.return=g,p;case Or:return m=Fa(m,g.mode,p),m.return=g,m;case En:var j=m._init;return h(g,j(m._payload),p)}if(bs(m)||ys(m))return m=mr(m,g.mode,p,null),m.return=g,m;Fi(g,m)}return null}function f(g,m,p,j){var C=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:l(g,m,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pi:return p.key===C?c(g,m,p,j):null;case Or:return p.key===C?u(g,m,p,j):null;case En:return C=p._init,f(g,m,C(p._payload),j)}if(bs(p)||ys(p))return C!==null?null:d(g,m,p,j,null);Fi(g,p)}return null}function v(g,m,p,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(p)||null,l(m,g,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pi:return g=g.get(j.key===null?p:j.key)||null,c(m,g,j,C);case Or:return g=g.get(j.key===null?p:j.key)||null,u(m,g,j,C);case En:var k=j._init;return v(g,m,p,k(j._payload),C)}if(bs(j)||ys(j))return g=g.get(p)||null,d(m,g,j,C,null);Fi(m,j)}return null}function w(g,m,p,j){for(var C=null,k=null,E=m,R=m=0,V=null;E!==null&&R<p.length;R++){E.index>R?(V=E,E=null):V=E.sibling;var L=f(g,E,p[R],j);if(L===null){E===null&&(E=V);break}e&&E&&L.alternate===null&&t(g,E),m=i(L,m,R),k===null?C=L:k.sibling=L,k=L,E=V}if(R===p.length)return n(g,E),ve&&or(g,R),C;if(E===null){for(;R<p.length;R++)E=h(g,p[R],j),E!==null&&(m=i(E,m,R),k===null?C=E:k.sibling=E,k=E);return ve&&or(g,R),C}for(E=r(g,E);R<p.length;R++)V=v(E,g,R,p[R],j),V!==null&&(e&&V.alternate!==null&&E.delete(V.key===null?R:V.key),m=i(V,m,R),k===null?C=V:k.sibling=V,k=V);return e&&E.forEach(function(ee){return t(g,ee)}),ve&&or(g,R),C}function x(g,m,p,j){var C=ys(p);if(typeof C!="function")throw Error(T(150));if(p=C.call(p),p==null)throw Error(T(151));for(var k=C=null,E=m,R=m=0,V=null,L=p.next();E!==null&&!L.done;R++,L=p.next()){E.index>R?(V=E,E=null):V=E.sibling;var ee=f(g,E,L.value,j);if(ee===null){E===null&&(E=V);break}e&&E&&ee.alternate===null&&t(g,E),m=i(ee,m,R),k===null?C=ee:k.sibling=ee,k=ee,E=V}if(L.done)return n(g,E),ve&&or(g,R),C;if(E===null){for(;!L.done;R++,L=p.next())L=h(g,L.value,j),L!==null&&(m=i(L,m,R),k===null?C=L:k.sibling=L,k=L);return ve&&or(g,R),C}for(E=r(g,E);!L.done;R++,L=p.next())L=v(E,g,R,L.value,j),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?R:L.key),m=i(L,m,R),k===null?C=L:k.sibling=L,k=L);return e&&E.forEach(function(Q){return t(g,Q)}),ve&&or(g,R),C}function N(g,m,p,j){if(typeof p=="object"&&p!==null&&p.type===Lr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Pi:e:{for(var C=p.key,k=m;k!==null;){if(k.key===C){if(C=p.type,C===Lr){if(k.tag===7){n(g,k.sibling),m=s(k,p.props.children),m.return=g,g=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&rd(C)===k.type){n(g,k.sibling),m=s(k,p.props),m.ref=Ns(g,k,p),m.return=g,g=m;break e}n(g,k);break}else t(g,k);k=k.sibling}p.type===Lr?(m=mr(p.props.children,g.mode,j,p.key),m.return=g,g=m):(j=lo(p.type,p.key,p.props,null,g.mode,j),j.ref=Ns(g,m,p),j.return=g,g=j)}return a(g);case Or:e:{for(k=p.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Fa(p,g.mode,j),m.return=g,g=m}return a(g);case En:return k=p._init,N(g,m,k(p._payload),j)}if(bs(p))return w(g,m,p,j);if(ys(p))return x(g,m,p,j);Fi(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,p),m.return=g,g=m):(n(g,m),m=Ua(p,g.mode,j),m.return=g,g=m),a(g)):n(g,m)}return N}var ts=vf(!0),yf=vf(!1),No=Kn(null),ko=null,Vr=null,Lc=null;function $c(){Lc=Vr=ko=null}function Dc(e){var t=No.current;me(No),e._currentValue=t}function Al(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t){ko=e,Lc=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Lc!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(ko===null)throw Error(T(308));Vr=e,ko.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var dr=null;function Mc(e){dr===null?dr=[e]:dr.push(e)}function wf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mc(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Mc(r)):(t.next=s.next,s.next=t),r.interleaved=t,yn(e,n)}function no(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kc(e,n)}}function sd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function So(e,t,n,r){var s=e.updateQueue;bn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(f=t,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=xe({},h,f);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wr|=a,e.lanes=a,e.memoizedState=h}}function id(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var gi={},en=Kn(gi),ni=Kn(gi),ri=Kn(gi);function hr(e){if(e===gi)throw Error(T(174));return e}function Fc(e,t){switch(ue(ri,t),ue(ni,e),ue(en,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dl(t,e)}me(en),ue(en,t)}function ns(){me(en),me(ni),me(ri)}function jf(e){hr(ri.current);var t=hr(en.current),n=dl(t,e.type);t!==n&&(ue(ni,e),ue(en,n))}function Bc(e){ni.current===e&&(me(en),me(ni))}var ye=Kn(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function zc(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var ro=xn.ReactCurrentDispatcher,Oa=xn.ReactCurrentBatchConfig,yr=0,we=null,Le=null,Ue=null,Eo=!1,Ds=!1,si=0,Fv=0;function Je(){throw Error(T(321))}function Vc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function qc(e,t,n,r,s,i){if(yr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?qv:Wv,e=n(r,s),Ds){i=0;do{if(Ds=!1,si=0,25<=i)throw Error(T(301));i+=1,Ue=Le=null,t.updateQueue=null,ro.current=Hv,e=n(r,s)}while(Ds)}if(ro.current=bo,t=Le!==null&&Le.next!==null,yr=0,Ue=Le=we=null,Eo=!1,t)throw Error(T(300));return e}function Wc(){var e=si!==0;return si=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?we.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Tt(){if(Le===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ue===null?we.memoizedState:Ue.next;if(t!==null)Ue=t,Le=e;else{if(e===null)throw Error(T(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?we.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ii(e,t){return typeof t=="function"?t(e):t}function La(e){var t=Tt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Le,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((yr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,we.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Bt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,wr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $a(e){var t=Tt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Bt(i,t.memoizedState)||(ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _f(){}function Nf(e,t){var n=we,r=Tt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,ht=!0),r=r.queue,Hc(Cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,oi(9,Sf.bind(null,n,r,s,t),void 0,null),Fe===null)throw Error(T(349));yr&30||kf(n,t,s)}return s}function kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sf(e,t,n,r){t.value=n,t.getSnapshot=r,Ef(t)&&bf(e)}function Cf(e,t,n){return n(function(){Ef(t)&&bf(e)})}function Ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function bf(e){var t=yn(e,1);t!==null&&Ft(t,e,1,-1)}function od(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Vv.bind(null,we,e),[t.memoizedState,e]}function oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Pf(){return Tt().memoizedState}function so(e,t,n,r){var s=Gt();we.flags|=e,s.memoizedState=oi(1|t,n,void 0,r===void 0?null:r)}function Wo(e,t,n,r){var s=Tt();r=r===void 0?null:r;var i=void 0;if(Le!==null){var a=Le.memoizedState;if(i=a.destroy,r!==null&&Vc(r,a.deps)){s.memoizedState=oi(t,n,i,r);return}}we.flags|=e,s.memoizedState=oi(1|t,n,i,r)}function ad(e,t){return so(8390656,8,e,t)}function Hc(e,t){return Wo(2048,8,e,t)}function Tf(e,t){return Wo(4,2,e,t)}function Af(e,t){return Wo(4,4,e,t)}function Rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function If(e,t,n){return n=n!=null?n.concat([e]):null,Wo(4,4,Rf.bind(null,t,e),n)}function Kc(){}function Of(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lf(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $f(e,t,n){return yr&21?(Bt(n,t)||(n=Fh(),we.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Bv(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Oa.transition;Oa.transition={};try{e(!1),t()}finally{se=n,Oa.transition=r}}function Df(){return Tt().memoizedState}function zv(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mf(e))Uf(t,n);else if(n=wf(e,t,n,r),n!==null){var s=nt();Ft(n,e,r,s),Ff(n,t,r)}}function Vv(e,t,n){var r=zn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mf(e))Uf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,a)){var c=t.interleaved;c===null?(s.next=s,Mc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=wf(e,t,s,r),n!==null&&(s=nt(),Ft(n,e,r,s),Ff(n,t,r))}}function Mf(e){var t=e.alternate;return e===we||t!==null&&t===we}function Uf(e,t){Ds=Eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ff(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kc(e,n)}}var bo={readContext:Pt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},qv={readContext:Pt,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:ad,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,so(4194308,4,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zv.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:od,useDebugValue:Kc,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=od(!1),t=e[0];return e=Bv.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Gt();if(ve){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Fe===null)throw Error(T(349));yr&30||kf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ad(Cf.bind(null,r,i,e),[e]),r.flags|=2048,oi(9,Sf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Fe.identifierPrefix;if(ve){var n=mn,r=fn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=si++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wv={readContext:Pt,useCallback:Of,useContext:Pt,useEffect:Hc,useImperativeHandle:If,useInsertionEffect:Tf,useLayoutEffect:Af,useMemo:Lf,useReducer:La,useRef:Pf,useState:function(){return La(ii)},useDebugValue:Kc,useDeferredValue:function(e){var t=Tt();return $f(t,Le.memoizedState,e)},useTransition:function(){var e=La(ii)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:Nf,useId:Df,unstable_isNewReconciler:!1},Hv={readContext:Pt,useCallback:Of,useContext:Pt,useEffect:Hc,useImperativeHandle:If,useInsertionEffect:Tf,useLayoutEffect:Af,useMemo:Lf,useReducer:$a,useRef:Pf,useState:function(){return $a(ii)},useDebugValue:Kc,useDeferredValue:function(e){var t=Tt();return Le===null?t.memoizedState=e:$f(t,Le.memoizedState,e)},useTransition:function(){var e=$a(ii)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:Nf,useId:Df,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=zn(e),i=pn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Fn(e,i,s),t!==null&&(Ft(t,e,s,r),no(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=zn(e),i=pn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Fn(e,i,s),t!==null&&(Ft(t,e,s,r),no(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=zn(e),s=pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,r),t!==null&&(Ft(t,e,r,n),no(t,e,r))}};function ld(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xs(n,r)||!Xs(s,i):!0}function Bf(e,t,n){var r=!1,s=Wn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=mt(t)?gr:Ze.current,r=t.contextTypes,i=(r=r!=null)?Zr(e,s):Wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Il(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=mt(t)?gr:Ze.current,s.context=Zr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ho.enqueueReplaceState(s,s.state,null),So(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var n="",r=t;do n+=xg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Da(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kv=typeof WeakMap=="function"?WeakMap:Map;function zf(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){To||(To=!0,ql=r),Ol(e,t)},n}function Vf(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ol(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ud(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ay.bind(null,e,t,n),t.then(e,e))}function dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var Qv=xn.ReactCurrentOwner,ht=!1;function tt(e,t,n,r){t.child=e===null?yf(t,null,n,r):ts(t,e.child,n,r)}function fd(e,t,n,r,s){n=n.render;var i=t.ref;return Jr(t,s),r=qc(e,t,n,r,i,s),n=Wc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ve&&n&&Rc(t),t.flags|=1,tt(e,t,r,s),t.child)}function md(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!tu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,qf(e,t,i,r,s)):(e=lo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xs,n(a,r)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Xs(i,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,wn(e,t,s)}return Ll(e,t,n,r,s)}function Wf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Wr,vt),vt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Wr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(Wr,vt),vt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(Wr,vt),vt|=r;return tt(e,t,s,n),t.child}function Hf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,s){var i=mt(n)?gr:Ze.current;return i=Zr(t,i),Jr(t,s),n=qc(e,t,n,r,i,s),r=Wc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ve&&r&&Rc(t),t.flags|=1,tt(e,t,n,s),t.child)}function pd(e,t,n,r,s){if(mt(n)){var i=!0;xo(t)}else i=!1;if(Jr(t,s),t.stateNode===null)io(e,t),Bf(t,n,r),Il(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=mt(n)?gr:Ze.current,u=Zr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&cd(t,a,r,u),bn=!1;var f=t.memoizedState;a.state=f,So(t,r,a,s),c=t.memoizedState,l!==r||f!==c||ft.current||bn?(typeof d=="function"&&(Rl(t,n,d,r),c=t.memoizedState),(l=bn||ld(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,xf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lt(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=mt(n)?gr:Ze.current,c=Zr(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&cd(t,a,r,c),bn=!1,f=t.memoizedState,a.state=f,So(t,r,a,s);var w=t.memoizedState;l!==h||f!==w||ft.current||bn?(typeof v=="function"&&(Rl(t,n,v,r),w=t.memoizedState),(u=bn||ld(t,n,u,r,f,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return $l(e,t,n,r,i,s)}function $l(e,t,n,r,s,i){Hf(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&ed(t,n,!1),wn(e,t,i);r=t.stateNode,Qv.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ts(t,e.child,null,i),t.child=ts(t,null,l,i)):tt(e,t,l,i),t.memoizedState=r.state,s&&ed(t,n,!0),t.child}function Kf(e){var t=e.stateNode;t.pendingContext?Zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zu(e,t.context,!1),Fc(e,t.containerInfo)}function gd(e,t,n,r,s){return es(),Oc(s),t.flags|=256,tt(e,t,n,r),t.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qf(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ye,s&1),e===null)return Tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Go(a,r,0,null),e=mr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ml(n),t.memoizedState=Dl,e):Qc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Gv(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Vn(l,i):(i=mr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ml(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Dl,r}return i=e.child,e=i.sibling,r=Vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qc(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,n,r){return r!==null&&Oc(r),ts(t,e.child,null,n),e=Qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gv(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Da(Error(T(422))),Bi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Go({mode:"visible",children:r.children},s,0,null),i=mr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ts(t,e.child,null,a),t.child.memoizedState=Ml(a),t.memoizedState=Dl,i);if(!(t.mode&1))return Bi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=Da(i,r,void 0),Bi(e,t,a,r)}if(l=(a&e.childLanes)!==0,ht||l){if(r=Fe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Ft(r,e,s,-1))}return eu(),r=Da(Error(T(421))),Bi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ly.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=Un(s.nextSibling),wt=t,ve=!0,Mt=null,e!==null&&(kt[St++]=fn,kt[St++]=mn,kt[St++]=vr,fn=e.id,mn=e.overflow,vr=t),t=Qc(t,r.children),t.flags|=4096,t)}function vd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Al(e.return,t,n)}function Ma(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Gf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,n,t);else if(e.tag===19)vd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Co(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ma(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Co(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ma(t,!0,n,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jv(e,t,n){switch(t.tag){case 3:Kf(t),es();break;case 5:jf(t);break;case 1:mt(t.type)&&xo(t);break;case 4:Fc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(No,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Qf(e,t,n):(ue(ye,ye.current&1),e=wn(e,t,n),e!==null?e.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Wf(e,t,n)}return wn(e,t,n)}var Jf,Ul,Yf,Xf;Jf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ul=function(){};Yf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hr(en.current);var i=null;switch(n){case"input":s=al(e,s),r=al(e,r),i=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),i=[];break;case"textarea":s=ul(e,s),r=ul(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yo)}hl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function ks(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yv(e,t,n){var r=t.pendingProps;switch(Ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return mt(t.type)&&wo(),Ye(t),null;case 3:return r=t.stateNode,ns(),me(ft),me(Ze),zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(Kl(Mt),Mt=null))),Ul(e,t),Ye(t),null;case 5:Bc(t);var s=hr(ri.current);if(n=t.type,e!==null&&t.stateNode!=null)Yf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ye(t),null}if(e=hr(en.current),Ui(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yt]=t,r[ti]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)fe(Ts[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Cu(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":bu(r,i),fe("invalid",r)}hl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,l,e),s=["children",""+l]):Ws.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ti(r),Eu(r,i,!0);break;case"textarea":Ti(r),Pu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Yt]=t,e[ti]=r,Jf(e,t,!1,!1),t.stateNode=e;e:{switch(a=fl(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)fe(Ts[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Cu(e,r),s=al(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),fe("invalid",e);break;case"textarea":bu(e,r),s=ul(e,r),fe("invalid",e);break;default:s=r}hl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ch(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hs(e,c):typeof c=="number"&&Hs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ws.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",e):c!=null&&yc(e,i,c,a))}switch(n){case"input":Ti(e),Eu(e,r,!1);break;case"textarea":Ti(e),Pu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=hr(ri.current),hr(en.current),Ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(i=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:Mi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Ye(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&yt!==null&&t.mode&1&&!(t.flags&128))gf(),es(),t.flags|=98560,i=!1;else if(i=Ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Yt]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Mt!==null&&(Kl(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?$e===0&&($e=3):eu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return ns(),Ul(e,t),e===null&&Zs(t.stateNode.containerInfo),Ye(t),null;case 10:return Dc(t.type._context),Ye(t),null;case 17:return mt(t.type)&&wo(),Ye(t),null;case 19:if(me(ye),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ks(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Co(e),a!==null){for(t.flags|=128,ks(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>ss&&(t.flags|=128,r=!0,ks(i,!1),t.lanes=4194304)}else{if(!r)if(e=Co(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ve)return Ye(t),null}else 2*Ce()-i.renderingStartTime>ss&&n!==1073741824&&(t.flags|=128,r=!0,ks(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Xv(e,t){switch(Ic(t),t.tag){case 1:return mt(t.type)&&wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),me(ft),me(Ze),zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bc(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return ns(),null;case 10:return Dc(t.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var zi=!1,Xe=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,O=null;function qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Fl(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var yd=!1;function ey(e,t){if(Nl=po,e=nf(),Ac(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},po=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,N=w.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Lt(t.type,x),N);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return w=yd,yd=!1,w}function Ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fl(t,n,i)}s=s.next}while(s!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ti],delete t[El],delete t[$v],delete t[Dv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function em(e){return e.tag===5||e.tag===3||e.tag===4}function wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yo));else if(r!==4&&(e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var We=null,$t=!1;function kn(e,t,n){for(n=n.child;n!==null;)tm(e,t,n),n=n.sibling}function tm(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Uo,n)}catch{}switch(n.tag){case 5:Xe||qr(n,t);case 6:var r=We,s=$t;We=null,kn(e,t,n),We=r,$t=s,We!==null&&($t?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&($t?(e=We,n=n.stateNode,e.nodeType===8?Aa(e.parentNode,n):e.nodeType===1&&Aa(e,n),Js(e)):Aa(We,n.stateNode));break;case 4:r=We,s=$t,We=n.stateNode.containerInfo,$t=!0,kn(e,t,n),We=r,$t=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fl(n,t,a),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Xe&&(qr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ne(n,t,l)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,kn(e,t,n),Xe=r):kn(e,t,n);break;default:kn(e,t,n)}}function xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zv),t.forEach(function(r){var s=cy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:We=l.stateNode,$t=!1;break e;case 3:We=l.stateNode.containerInfo,$t=!0;break e;case 4:We=l.stateNode.containerInfo,$t=!0;break e}l=l.return}if(We===null)throw Error(T(160));tm(i,a,s),We=null,$t=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nm(t,e),t=t.sibling}function nm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Qt(e),r&4){try{Ms(3,e,e.return),Ko(3,e)}catch(x){Ne(e,e.return,x)}try{Ms(5,e,e.return)}catch(x){Ne(e,e.return,x)}}break;case 1:It(t,e),Qt(e),r&512&&n!==null&&qr(n,n.return);break;case 5:if(It(t,e),Qt(e),r&512&&n!==null&&qr(n,n.return),e.flags&32){var s=e.stateNode;try{Hs(s,"")}catch(x){Ne(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Nh(s,i),fl(l,a);var u=fl(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?bh(s,h):d==="dangerouslySetInnerHTML"?Ch(s,h):d==="children"?Hs(s,h):yc(s,d,h,u)}switch(l){case"input":ll(s,i);break;case"textarea":kh(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Hr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ti]=i}catch(x){Ne(e,e.return,x)}}break;case 6:if(It(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ne(e,e.return,x)}}break;case 3:if(It(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(x){Ne(e,e.return,x)}break;case 4:It(t,e),Qt(e);break;case 13:It(t,e),Qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yc=Ce())),r&4&&xd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||d,It(t,e),Xe=u):It(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ms(4,f,f.return);break;case 1:qr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ne(r,n,x)}}break;case 5:qr(f,f.return);break;case 22:if(f.memoizedState!==null){_d(h);continue}}v!==null?(v.return=f,O=v):_d(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Eh("display",a))}catch(x){Ne(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ne(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:It(t,e),Qt(e),r&4&&xd(e);break;case 21:break;default:It(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(em(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hs(s,""),r.flags&=-33);var i=wd(e);Vl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=wd(e);zl(e,l,a);break;default:throw Error(T(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ty(e,t,n){O=e,rm(e)}function rm(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||zi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xe;l=zi;var u=Xe;if(zi=a,(Xe=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?Nd(s):c!==null?(c.return=a,O=c):Nd(s);for(;i!==null;)O=i,rm(i),i=i.sibling;O=s,zi=l,Xe=u}jd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):jd(e)}}function jd(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&id(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}id(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Js(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Xe||t.flags&512&&Bl(t)}catch(f){Ne(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function _d(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Nd(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ne(t,s,c)}}var i=t.return;try{Bl(t)}catch(c){Ne(t,i,c)}break;case 5:var a=t.return;try{Bl(t)}catch(c){Ne(t,a,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var ny=Math.ceil,Po=xn.ReactCurrentDispatcher,Gc=xn.ReactCurrentOwner,Et=xn.ReactCurrentBatchConfig,re=0,Fe=null,Pe=null,He=0,vt=0,Wr=Kn(0),$e=0,ai=null,wr=0,Qo=0,Jc=0,Us=null,ut=null,Yc=0,ss=1/0,un=null,To=!1,ql=null,Bn=null,Vi=!1,In=null,Ao=0,Fs=0,Wl=null,oo=-1,ao=0;function nt(){return re&6?Ce():oo!==-1?oo:oo=Ce()}function zn(e){return e.mode&1?re&2&&He!==0?He&-He:Uv.transition!==null?(ao===0&&(ao=Fh()),ao):(e=se,e!==0||(e=window.event,e=e===void 0?16:Kh(e.type)),e):1}function Ft(e,t,n,r){if(50<Fs)throw Fs=0,Wl=null,Error(T(185));fi(e,n,r),(!(re&2)||e!==Fe)&&(e===Fe&&(!(re&2)&&(Qo|=n),$e===4&&Tn(e,He)),pt(e,r),n===1&&re===0&&!(t.mode&1)&&(ss=Ce()+500,qo&&Qn()))}function pt(e,t){var n=e.callbackNode;Ug(e,t);var r=mo(e,e===Fe?He:0);if(r===0)n!==null&&Ru(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ru(n),t===1)e.tag===0?Mv(kd.bind(null,e)):ff(kd.bind(null,e)),Ov(function(){!(re&6)&&Qn()}),n=null;else{switch(Bh(r)){case 1:n=Nc;break;case 4:n=Mh;break;case 16:n=fo;break;case 536870912:n=Uh;break;default:n=fo}n=dm(n,sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sm(e,t){if(oo=-1,ao=0,re&6)throw Error(T(327));var n=e.callbackNode;if(Yr()&&e.callbackNode!==n)return null;var r=mo(e,e===Fe?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ro(e,r);else{t=r;var s=re;re|=2;var i=om();(Fe!==e||He!==t)&&(un=null,ss=Ce()+500,fr(e,t));do try{iy();break}catch(l){im(e,l)}while(!0);$c(),Po.current=i,re=s,Pe!==null?t=0:(Fe=null,He=0,t=$e)}if(t!==0){if(t===2&&(s=yl(e),s!==0&&(r=s,t=Hl(e,s))),t===1)throw n=ai,fr(e,0),Tn(e,r),pt(e,Ce()),n;if(t===6)Tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ry(s)&&(t=Ro(e,r),t===2&&(i=yl(e),i!==0&&(r=i,t=Hl(e,i))),t===1))throw n=ai,fr(e,0),Tn(e,r),pt(e,Ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:ar(e,ut,un);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=Yc+500-Ce(),10<t)){if(mo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Cl(ar.bind(null,e,ut,un),t);break}ar(e,ut,un);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ut(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ny(r/1960))-r,10<r){e.timeoutHandle=Cl(ar.bind(null,e,ut,un),r);break}ar(e,ut,un);break;case 5:ar(e,ut,un);break;default:throw Error(T(329))}}}return pt(e,Ce()),e.callbackNode===n?sm.bind(null,e):null}function Hl(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=ut,ut=n,t!==null&&Kl(t)),e}function Kl(e){ut===null?ut=e:ut.push.apply(ut,e)}function ry(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Jc,t&=~Qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function kd(e){if(re&6)throw Error(T(327));Yr();var t=mo(e,0);if(!(t&1))return pt(e,Ce()),null;var n=Ro(e,t);if(e.tag!==0&&n===2){var r=yl(e);r!==0&&(t=r,n=Hl(e,r))}if(n===1)throw n=ai,fr(e,0),Tn(e,t),pt(e,Ce()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,ut,un),pt(e,Ce()),null}function Xc(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(ss=Ce()+500,qo&&Qn())}}function xr(e){In!==null&&In.tag===0&&!(re&6)&&Yr();var t=re;re|=1;var n=Et.transition,r=se;try{if(Et.transition=null,se=1,e)return e()}finally{se=r,Et.transition=n,re=t,!(re&6)&&Qn()}}function Zc(){vt=Wr.current,me(Wr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Iv(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wo();break;case 3:ns(),me(ft),me(Ze),zc();break;case 5:Bc(r);break;case 4:ns();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Dc(r.type._context);break;case 22:case 23:Zc()}n=n.return}if(Fe=e,Pe=e=Vn(e.current,null),He=vt=t,$e=0,ai=null,Jc=Qo=wr=0,ut=Us=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}dr=null}return e}function im(e,t){do{var n=Pe;try{if($c(),ro.current=bo,Eo){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eo=!1}if(yr=0,Ue=Le=we=null,Ds=!1,si=0,Gc.current=null,n===null||n.return===null){$e=1,ai=t,Pe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=He,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=dd(a);if(v!==null){v.flags&=-257,hd(v,a,l,i,t),v.mode&1&&ud(i,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){ud(i,u,t),eu();break e}c=Error(T(426))}}else if(ve&&l.mode&1){var N=dd(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),hd(N,a,l,i,t),Oc(rs(c,l));break e}}i=c=rs(c,l),$e!==4&&($e=2),Us===null?Us=[i]:Us.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=zf(i,c,t);sd(i,g);break e;case 1:l=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bn===null||!Bn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Vf(i,l,t);sd(i,j);break e}}i=i.return}while(i!==null)}lm(n)}catch(C){t=C,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function om(){var e=Po.current;return Po.current=bo,e===null?bo:e}function eu(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||!(wr&268435455)&&!(Qo&268435455)||Tn(Fe,He)}function Ro(e,t){var n=re;re|=2;var r=om();(Fe!==e||He!==t)&&(un=null,fr(e,t));do try{sy();break}catch(s){im(e,s)}while(!0);if($c(),re=n,Po.current=r,Pe!==null)throw Error(T(261));return Fe=null,He=0,$e}function sy(){for(;Pe!==null;)am(Pe)}function iy(){for(;Pe!==null&&!Tg();)am(Pe)}function am(e){var t=um(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?lm(e):Pe=t,Gc.current=null}function lm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xv(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Pe=null;return}}else if(n=Yv(n,t,vt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);$e===0&&($e=5)}function ar(e,t,n){var r=se,s=Et.transition;try{Et.transition=null,se=1,oy(e,t,n,r)}finally{Et.transition=s,se=r}return null}function oy(e,t,n,r){do Yr();while(In!==null);if(re&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fg(e,i),e===Fe&&(Pe=Fe=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vi||(Vi=!0,dm(fo,function(){return Yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var a=se;se=1;var l=re;re|=4,Gc.current=null,ey(e,n),nm(n,e),Cv(kl),po=!!Nl,kl=Nl=null,e.current=n,ty(n),Ag(),re=l,se=a,Et.transition=i}else e.current=n;if(Vi&&(Vi=!1,In=e,Ao=s),i=e.pendingLanes,i===0&&(Bn=null),Og(n.stateNode),pt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(To)throw To=!1,e=ql,ql=null,e;return Ao&1&&e.tag!==0&&Yr(),i=e.pendingLanes,i&1?e===Wl?Fs++:(Fs=0,Wl=e):Fs=0,Qn(),null}function Yr(){if(In!==null){var e=Bh(Ao),t=Et.transition,n=se;try{if(Et.transition=null,se=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,Ao=0,re&6)throw Error(T(331));var s=re;for(re|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Ms(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,v=d.return;if(Zf(d),d===u){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ms(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){a=O;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,O=p;else e:for(a=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(C){Ne(l,l.return,C)}if(l===a){O=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,O=j;break e}O=l.return}}if(re=s,Qn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Uo,e)}catch{}r=!0}return r}finally{se=n,Et.transition=t}}return!1}function Sd(e,t,n){t=rs(n,t),t=zf(e,t,1),e=Fn(e,t,1),t=nt(),e!==null&&(fi(e,1,t),pt(e,t))}function Ne(e,t,n){if(e.tag===3)Sd(e,e,n);else for(;t!==null;){if(t.tag===3){Sd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=rs(n,e),e=Vf(t,e,1),t=Fn(t,e,1),e=nt(),t!==null&&(fi(t,1,e),pt(t,e));break}}t=t.return}}function ay(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(He&n)===n&&($e===4||$e===3&&(He&130023424)===He&&500>Ce()-Yc?fr(e,0):Jc|=n),pt(e,t)}function cm(e,t){t===0&&(e.mode&1?(t=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):t=1);var n=nt();e=yn(e,t),e!==null&&(fi(e,t,n),pt(e,n))}function ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cm(e,n)}function cy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),cm(e,n)}var um;um=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,Jv(e,t,n);ht=!!(e.flags&131072)}else ht=!1,ve&&t.flags&1048576&&mf(t,_o,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;io(e,t),e=t.pendingProps;var s=Zr(t,Ze.current);Jr(t,n),s=qc(null,t,r,e,s,n);var i=Wc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(i=!0,xo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uc(t),s.updater=Ho,t.stateNode=s,s._reactInternals=t,Il(t,r,e,n),t=$l(null,t,r,!0,i,n)):(t.tag=0,ve&&i&&Rc(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(io(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=dy(r),e=Lt(r,e),s){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=pd(null,t,r,e,n);break e;case 11:t=fd(null,t,r,e,n);break e;case 14:t=md(null,t,r,Lt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ll(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),pd(e,t,r,s,n);case 3:e:{if(Kf(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,xf(e,t),So(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=rs(Error(T(423)),t),t=gd(e,t,r,n,s);break e}else if(r!==s){s=rs(Error(T(424)),t),t=gd(e,t,r,n,s);break e}else for(yt=Un(t.stateNode.containerInfo.firstChild),wt=t,ve=!0,Mt=null,n=yf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===s){t=wn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return jf(t),e===null&&Tl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Sl(r,s)?a=null:i!==null&&Sl(r,i)&&(t.flags|=32),Hf(e,t),tt(e,t,a,n),t.child;case 6:return e===null&&Tl(t),null;case 13:return Qf(e,t,n);case 4:return Fc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ts(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),fd(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ue(No,r._currentValue),r._currentValue=a,i!==null)if(Bt(i.value,a)){if(i.children===s.children&&!ft.current){t=wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=pn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Al(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Al(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Jr(t,n),s=Pt(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),md(e,t,r,s,n);case 15:return qf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),io(e,t),t.tag=1,mt(r)?(e=!0,xo(t)):e=!1,Jr(t,n),Bf(t,r,s),Il(t,r,s,n),$l(null,t,r,!0,e,n);case 19:return Gf(e,t,n);case 22:return Wf(e,t,n)}throw Error(T(156,t.tag))};function dm(e,t){return Dh(e,t)}function uy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new uy(e,t,n,r)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dy(e){if(typeof e=="function")return tu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xc)return 11;if(e===jc)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lo(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")tu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Lr:return mr(n.children,s,i,t);case wc:a=8,s|=8;break;case rl:return e=Ct(12,n,t,s|2),e.elementType=rl,e.lanes=i,e;case sl:return e=Ct(13,n,t,s),e.elementType=sl,e.lanes=i,e;case il:return e=Ct(19,n,t,s),e.elementType=il,e.lanes=i,e;case xh:return Go(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yh:a=10;break e;case wh:a=9;break e;case xc:a=11;break e;case jc:a=14;break e;case En:a=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ct(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function mr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=xh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ua(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Fa(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nu(e,t,n,r,s,i,a,l,c){return e=new hy(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(i),e}function fy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hm(e){if(!e)return Wn;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(mt(n))return hf(e,n,t)}return t}function fm(e,t,n,r,s,i,a,l,c){return e=nu(n,r,!0,e,s,i,a,l,c),e.context=hm(null),n=e.current,r=nt(),s=zn(n),i=pn(r,s),i.callback=t??null,Fn(n,i,s),e.current.lanes=s,fi(e,s,r),pt(e,r),e}function Jo(e,t,n,r){var s=t.current,i=nt(),a=zn(s);return n=hm(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(s,t,a),e!==null&&(Ft(e,s,a,i),no(e,s,a)),a}function Io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ru(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function my(){return null}var mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}Yo.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Jo(e,t,null,null)};Yo.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Jo(null,e,null,null)}),t[vn]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=qh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Hh(e)}};function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function py(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Io(a);i.call(u)}}var a=fm(t,r,e,0,null,!1,!1,"",Ed);return e._reactRootContainer=a,e[vn]=a.current,Zs(e.nodeType===8?e.parentNode:e),xr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Io(c);l.call(u)}}var c=nu(e,0,!1,null,null,!1,!1,"",Ed);return e._reactRootContainer=c,e[vn]=c.current,Zs(e.nodeType===8?e.parentNode:e),xr(function(){Jo(t,c,n,r)}),c}function Zo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Io(a);l.call(c)}}Jo(t,a,e,s)}else a=py(n,t,e,s,r);return Io(a)}zh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ps(t.pendingLanes);n!==0&&(kc(t,n|1),pt(t,Ce()),!(re&6)&&(ss=Ce()+500,Qn()))}break;case 13:xr(function(){var r=yn(e,1);if(r!==null){var s=nt();Ft(r,e,1,s)}}),ru(e,1)}};Sc=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=nt();Ft(t,e,134217728,n)}ru(e,134217728)}};Vh=function(e){if(e.tag===13){var t=zn(e),n=yn(e,t);if(n!==null){var r=nt();Ft(n,e,t,r)}ru(e,t)}};qh=function(){return se};Wh=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};pl=function(e,t,n){switch(t){case"input":if(ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vo(r);if(!s)throw Error(T(90));_h(r),ll(r,s)}}}break;case"textarea":kh(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Ah=Xc;Rh=xr;var gy={usingClientEntryPoint:!1,Events:[pi,Ur,Vo,Ph,Th,Xc]},Ss={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||my,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{Uo=qi.inject(vy),Zt=qi}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gy;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(t))throw Error(T(200));return fy(e,t,null,n)};jt.createRoot=function(e,t){if(!iu(e))throw Error(T(299));var n=!1,r="",s=mm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nu(e,1,!1,null,null,n,!1,r,s),e[vn]=t.current,Zs(e.nodeType===8?e.parentNode:e),new su(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Lh(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return xr(e)};jt.hydrate=function(e,t,n){if(!Xo(t))throw Error(T(200));return Zo(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!iu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=mm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=fm(t,null,e,1,n??null,s,!1,i,a),e[vn]=t.current,Zs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yo(t)};jt.render=function(e,t,n){if(!Xo(t))throw Error(T(200));return Zo(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!Xo(e))throw Error(T(40));return e._reactRootContainer?(xr(function(){Zo(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};jt.unstable_batchedUpdates=Xc;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Zo(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pm)}catch(e){console.error(e)}}pm(),mh.exports=jt;var gm=mh.exports,bd=gm;tl.createRoot=bd.createRoot,tl.hydrateRoot=bd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}var On;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(On||(On={}));const Pd="popstate";function yy(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Ql("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ym(s)}return xy(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wy(){return Math.random().toString(36).substr(2,8)}function Td(e,t){return{usr:e.state,key:e.key,idx:t}}function Ql(e,t,n,r){return n===void 0&&(n=null),li({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:n,key:t&&t.key||r||wy()})}function ym(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xy(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=On.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(li({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=On.Pop;let N=d(),g=N==null?null:N-u;u=N,c&&c({action:l,location:x.location,delta:g})}function f(N,g){l=On.Push;let m=Ql(x.location,N,g);u=d()+1;let p=Td(m,u),j=x.createHref(m);try{a.pushState(p,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function v(N,g){l=On.Replace;let m=Ql(x.location,N,g);u=d();let p=Td(m,u),j=x.createHref(m);a.replaceState(p,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function w(N){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof N=="string"?N:ym(N);return m=m.replace(/ $/,"%20"),Te(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return l},get location(){return e(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pd,h),c=N,()=>{s.removeEventListener(Pd,h),c=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let g=w(N);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(N){return a.go(N)}};return x}var Ad;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ad||(Ad={}));function jy(e,t,n){return n===void 0&&(n="/"),_y(e,t,n)}function _y(e,t,n,r){let s=typeof t=="string"?fs(t):t,i=jm(s.pathname||"/",n);if(i==null)return null;let a=wm(e);Ny(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Ly(i);l=Ry(a[c],u)}return l}function wm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Te(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=pr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wm(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ty(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of xm(i.path))s(i,a,c)}),t}function xm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=xm(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ny(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ay(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ky=/^:[\w-]+$/,Sy=3,Cy=2,Ey=1,by=10,Py=-2,Rd=e=>e==="*";function Ty(e,t){let n=e.split("/"),r=n.length;return n.some(Rd)&&(r+=Py),t&&(r+=Cy),n.filter(s=>!Rd(s)).reduce((s,i)=>s+(ky.test(i)?Sy:i===""?Ey:by),r)}function Ay(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ry(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Iy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:pr([i,h.pathname]),pathnameBase:Uy(pr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=pr([i,h.pathnameBase]))}return a}function Iy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Oy(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[h];return v&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Oy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ly(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $y(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fs(e):e;return{pathname:n?n.startsWith("/")?n:Dy(n,t):t,search:Fy(r),hash:By(s)}}function Dy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ba(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function My(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _m(e,t){let n=My(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=fs(e):(s=li({},e),Te(!s.pathname||!s.pathname.includes("?"),Ba("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),Ba("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),Ba("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=$y(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),Uy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,By=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const km=["post","put","patch","delete"];new Set(km);const Vy=["get",...km];new Set(Vy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ci.apply(this,arguments)}const ou=y.createContext(null),qy=y.createContext(null),vi=y.createContext(null),ea=y.createContext(null),Gn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Sm=y.createContext(null);function yi(){return y.useContext(ea)!=null}function Jn(){return yi()||Te(!1),y.useContext(ea).location}function Cm(e){y.useContext(vi).static||y.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=y.useContext(Gn);return e?s0():Wy()}function Wy(){yi()||Te(!1);let e=y.useContext(ou),{basename:t,future:n,navigator:r}=y.useContext(vi),{matches:s}=y.useContext(Gn),{pathname:i}=Jn(),a=JSON.stringify(_m(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return Cm(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Nm(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:pr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function Hy(){let{matches:e}=y.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function Ky(e,t){return Qy(e,t)}function Qy(e,t,n,r){yi()||Te(!1);let{navigator:s}=y.useContext(vi),{matches:i}=y.useContext(Gn),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Jn(),d;if(t){var h;let N=typeof t=="string"?fs(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||Te(!1),d=N}else d=u;let f=d.pathname||"/",v=f;if(c!=="/"){let N=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=jy(e,{pathname:v}),x=Zy(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:pr([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:pr([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return t&&x?y.createElement(ea.Provider,{value:{location:ci({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:On.Pop}},x):x}function Gy(){let e=r0(),t=zy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const Jy=y.createElement(Gy,null);class Yy extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Gn.Provider,{value:this.props.routeContext},y.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xy(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(ou);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Gn.Provider,{value:t},r)}function Zy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Te(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let v,w=!1,x=null,N=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||Jy,c&&(u<0&&f===0?(i0("route-fallback"),w=!0,N=null):u===f&&(w=!0,N=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),m=()=>{let p;return v?p=x:w?p=N:h.route.Component?p=y.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,y.createElement(Xy,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Yy,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Em=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Em||{}),bm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bm||{});function e0(e){let t=y.useContext(ou);return t||Te(!1),t}function t0(e){let t=y.useContext(qy);return t||Te(!1),t}function n0(e){let t=y.useContext(Gn);return t||Te(!1),t}function Pm(e){let t=n0(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function r0(){var e;let t=y.useContext(Sm),n=t0(),r=Pm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s0(){let{router:e}=e0(Em.UseNavigateStable),t=Pm(bm.UseNavigateStable),n=y.useRef(!1);return Cm(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ci({fromRouteId:t},i)))},[e,t])}const Id={};function i0(e,t,n){Id[e]||(Id[e]=!0)}function o0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tm(e){let{to:t,replace:n,state:r,relative:s}=e;yi()||Te(!1);let{future:i,static:a}=y.useContext(vi),{matches:l}=y.useContext(Gn),{pathname:c}=Jn(),u=Nr(),d=Nm(t,_m(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Xt(e){Te(!1)}function a0(e){let{basename:t="/",children:n=null,location:r,navigationType:s=On.Pop,navigator:i,static:a=!1,future:l}=e;yi()&&Te(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:a,future:ci({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=fs(r));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:w="default"}=r,x=y.useMemo(()=>{let N=jm(d,c);return N==null?null:{location:{pathname:N,search:h,hash:f,state:v,key:w},navigationType:s}},[c,d,h,f,v,w,s]);return x==null?null:y.createElement(vi.Provider,{value:u},y.createElement(ea.Provider,{children:n,value:x}))}function Am(e){let{children:t,location:n}=e;return Ky(Gl(t),n)}new Promise(()=>{});function Gl(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Gl(r.props.children,i));return}r.type!==Xt&&Te(!1),!r.props.index||!r.props.children||Te(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Gl(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const l0="6";try{window.__reactRouterVersion=l0}catch{}const c0="startTransition",Od=ag[c0];function u0(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=yy({window:s,v5Compat:!0}));let a=i.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Od?Od(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.useEffect(()=>o0(r),[r]),y.createElement(a0,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var Ld;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ld||(Ld={}));var $d;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($d||($d={}));const d0="modulepreload",h0=function(e){return"/"+e},Dd={},wi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=h0(c),c in Dd)return;Dd[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":d0,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},f0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>ms);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class au extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class m0 extends au{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Md extends au{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ud extends au{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jl||(Jl={}));var p0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class g0{constructor(t,{headers:n={},customFetch:r,region:s=Jl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=f0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return p0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new m0(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Md(h);if(!h.ok)throw new Ud(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ud||s instanceof Md?s.context:void 0}}})}}var dt={},lu={},ta={},xi={},na={},ra={},v0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=v0();const y0=is.fetch,Rm=is.fetch.bind(is),Im=is.Headers,w0=is.Request,x0=is.Response,ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:Im,Request:w0,Response:x0,default:Rm,fetch:y0},Symbol.toStringTag,{value:"Module"})),j0=Wp(ms);var sa={};Object.defineProperty(sa,"__esModule",{value:!0});let _0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sa.default=_0;var Om=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const N0=Om(j0),k0=Om(sa);let S0=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=N0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let d=null,h=null,f=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const N=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");N&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await i.text();try{d=JSON.parse(N),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&N===""?(v=204,w="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new k0.default(d)}return{error:d,data:h,count:f,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ra.default=S0;var C0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});const E0=C0(ra);let b0=class extends E0.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};na.default=b0;var P0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const T0=P0(na);let A0=class extends T0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};xi.default=A0;var R0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const Cs=R0(xi);let I0=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Cs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Cs.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Cs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ta.default=I0;var Lm=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0});const O0=Lm(ta),L0=Lm(xi);let $0=class $m{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new O0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $m(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new L0.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};lu.default=$0;var ps=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dt,"__esModule",{value:!0});dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const Dm=ps(lu);dt.PostgrestClient=Dm.default;const Mm=ps(ta);dt.PostgrestQueryBuilder=Mm.default;const Um=ps(xi);dt.PostgrestFilterBuilder=Um.default;const Fm=ps(na);dt.PostgrestTransformBuilder=Fm.default;const Bm=ps(ra);dt.PostgrestBuilder=Bm.default;const zm=ps(sa);dt.PostgrestError=zm.default;var D0=dt.default={PostgrestClient:Dm.default,PostgrestQueryBuilder:Mm.default,PostgrestFilterBuilder:Um.default,PostgrestTransformBuilder:Fm.default,PostgrestBuilder:Bm.default,PostgrestError:zm.default};const{PostgrestClient:M0,PostgrestQueryBuilder:Rj,PostgrestFilterBuilder:Ij,PostgrestTransformBuilder:Oj,PostgrestBuilder:Lj,PostgrestError:$j}=D0;class U0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const F0="2.15.5",B0=`realtime-js/${F0}`,z0="1.0.0",Yl=1e4,V0=1e3,q0=100;var Bs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bs||(Bs={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var Dt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dt||(Dt={}));var Xl;(function(e){e.websocket="websocket"})(Xl||(Xl={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class W0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Vm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const Fd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=H0(a,e,t,s),i),{})},H0=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?qm(i,a):Zl(a)},qm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return J0(t,n)}switch(e){case ce.bool:return K0(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return Q0(t);case ce.json:case ce.jsonb:return G0(t);case ce.timestamp:return Y0(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return Zl(t);default:return Zl(t)}},Zl=e=>e,K0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Q0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>qm(t,l))}return e},Y0=e=>typeof e=="string"?e.replace(" ","T"):e,Wm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class za{constructor(t,n,r={},s=Yl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bd||(Bd={}));class zs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=zs.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zs.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(N=>N.presence_ref),v=h.map(N=>N.presence_ref),w=d.filter(N=>v.indexOf(N.presence_ref)<0),x=h.filter(N=>f.indexOf(N.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zd||(zd={}));var Vs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vs||(Vs={}));var dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class cu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new za(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new Vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new zs(this),this.broadcastEndpointURL=Wm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(dn.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t==null||t(dn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,g=[];for(let m=0;m<N;m++){const p=x[m],{filter:{event:j,schema:C,table:k,filter:E}}=p,R=v&&v[m];if(R&&R.event===j&&R.schema===C&&R.table===k&&R.filter===E)g.push(Object.assign(Object.assign({},p),{id:R.id}));else{this.unsubscribe(),this.state=Ie.errored,t==null||t(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(dn.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ie.errored,t==null||t(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ie.joined&&t===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new za(this,Dt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new za(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>q0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Dt;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,N;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(x=v.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(v=>v.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var w,x,N,g,m,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const j=v.id,C=(w=v.filter)===null||w===void 0?void 0:w.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:N,commit_timestamp:g,type:m,errors:p}=w;f=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&cu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dt.close,{},t)}_onError(t){this._on(Dt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Fd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Fd(t.columns,t.old_record)),n}}const Va=()=>{},Wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X0=[1e3,2e3,5e3,1e4],Z0=1e4,ew=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tw{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yl,this.transport=null,this.heartbeatIntervalMs=Wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Va,this.ref=0,this.reconnectTimer=null,this.logger=Va,this.conn=null,this.sendBuffer=[],this.serializer=new W0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>wi(async()=>{const{default:l}=await Promise.resolve().then(()=>ms);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Xl.websocket}`,this.httpEndpoint=Wm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:z0}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bs.connecting:return cr.Connecting;case Bs.open:return cr.Open;case Bs.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new cu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(V0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ew],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:B0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Dt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Yl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Wi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Va,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>X0[h-1]||Z0,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class uu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nw extends uu{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ec extends uu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var rw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Hm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>ms);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sw=()=>rw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wi(()=>Promise.resolve().then(()=>ms),void 0)).Response:Response}),tc=e=>{if(Array.isArray(e))return e.map(n=>tc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tc(r)}),t},iw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var kr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ow=(e,t,n)=>kr(void 0,void 0,void 0,function*(){const r=yield sw();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new nw(qa(s),i,a))}).catch(s=>{t(new ec(qa(s),s))}):t(new ec(qa(e),e))}),aw=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(iw(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function ji(e,t,n,r,s,i){return kr(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,aw(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>ow(c,l,r))})})}function Oo(e,t,n,r){return kr(this,void 0,void 0,function*(){return ji(e,"GET",t,n,r)})}function Jt(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return ji(e,"POST",t,r,s,n)})}function nc(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return ji(e,"PUT",t,r,s,n)})}function lw(e,t,n,r){return kr(this,void 0,void 0,function*(){return ji(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Km(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return ji(e,"DELETE",t,r,s,n)})}var et=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const cw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uw{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return et(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Vd),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?nc:Jt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Vd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nc(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new uu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return et(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return et(this,void 0,void 0,function*(){try{const s=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}download(t,n){return et(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Oo(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}info(t){return et(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Oo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}exists(t){return et(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield lw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r)&&r instanceof ec){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},cw),n),{prefix:t||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}listV2(t,n){return et(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dw="2.12.1",hw={"X-Client-Info":`storage-js/${dw}`};var Er=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class fw{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},hw),n),this.fetch=Hm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Er(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Er(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}}class mw extends fw{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new uw(this.url,this.headers,t,this.fetch)}}const pw="2.57.4";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const gw={"X-Client-Info":`supabase-js-${As}/${pw}`},vw={headers:gw},yw={schema:"public"},ww={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xw={};var jw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const _w=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rm:t=fetch,(...n)=>t(...n)},Nw=()=>typeof Headers>"u"?Im:Headers,kw=(e,t,n)=>{const r=_w(n),s=Nw();return(i,a)=>jw(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var Sw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Cw(e){return e.endsWith("/")?e:e+"/"}function Ew(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Sw(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function bw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qm="2.71.1",Rr=30*1e3,rc=3,Wa=rc*Rr,Pw="http://localhost:9999",Tw="supabase.auth.token",Aw={"X-Client-Info":`gotrue-js/${Qm}`},sc="X-Supabase-Api-Version",Gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iw=10*60*1e3;class du extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ow extends du{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Lw(e){return K(e)&&e.name==="AuthApiError"}class Jm extends du{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yn extends du{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Cn extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $w(e){return K(e)&&e.name==="AuthSessionMissingError"}class Hi extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qi extends Yn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dw(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class qd extends Yn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ic extends Yn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ha(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Wd extends Yn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class oc extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hd=` 	
\r=`.split(""),Mw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hd.length;t+=1)e[Hd[t].charCodeAt(0)]=-2;for(let t=0;t<Lo.length;t+=1)e[Lo[t].charCodeAt(0)]=t;return e})();function Kd(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lo[r]),t.queuedBits-=6}}function Ym(e,t,n){const r=Mw[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qd(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Bw(a,r,n)};for(let a=0;a<e.length;a+=1)Ym(e.charCodeAt(a),s,i);return t.join("")}function Uw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Fw(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Uw(r,t)}}function Bw(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zw(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ym(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Vw(e){const t=[];return Fw(e,n=>t.push(n)),new Uint8Array(t)}function qw(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Kd(s,n,r)),Kd(null,n,r),t.join("")}function Ww(e){return Math.round(Date.now()/1e3)+e}function Hw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},Xm=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function Kw(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Zm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>ms);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Qw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ir=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ir=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sn=async(e,t)=>{await e.removeItem(t)};class ia{constructor(){this.promise=new ia.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ia.promiseConstructor=Promise;function Ka(e){const t=e.split(".");if(t.length!==3)throw new oc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Rw.test(t[r]))throw new oc("JWT not in base64url format");return{header:JSON.parse(Qd(t[0])),payload:JSON.parse(Qd(t[1])),signature:zw(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jw(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Yw(e){return("0"+e.toString(16)).substr(-2)}function Xw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Yw).join("")}async function Zw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ex(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Zw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,n=!1){const r=Xw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ir(e,`${t}-code-verifier`,s);const i=await ex(r);return[i,r===i?"plain":"s256"]}const tx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nx(e){const t=e.headers.get(sc);if(!t||!t.match(tx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ix=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(e){if(!ix.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qa(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gd(e){return JSON.parse(JSON.stringify(e))}var ox=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ax=[502,503,504];async function Jd(e){var t;if(!Qw(e))throw new ic(lr(e),0);if(ax.includes(e.status))throw new ic(lr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Jm(lr(i),i)}let r;const s=nx(e);if(s&&s.getTime()>=Gm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wd(lr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Wd(lr(n),e.status,n.weak_password.reasons);throw new Ow(lr(n),e.status||500,r)}const lx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function J(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[sc]||(i[sc]=Gm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await cx(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function cx(e,t,n,r,s,i){const a=lx(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new ic(lr(c),0)}if(l.ok||await Jd(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Jd(c)}}function cn(e){var t;let n=null;fx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ww(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yd(e){const t=cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ux(e){return{data:e,error:null}}function dx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=ox(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function hx(e){return e}function fx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ga=["global","local","others"];var mx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class px{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ga[0]){if(Ga.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=mx(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hx});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pr(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Pr(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Pr(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Pr(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Pr(t.userId),Pr(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}function Xd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tr={debug:!!(globalThis&&Xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vx extends ep{}async function yx(e,t,n){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gx();const wx={url:Pw,storageKey:Tw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zd(e,t,n){return await n()}const Ar={};class ui{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ui.nextInstanceID,ui.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new px({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zm(s.fetch),this.lock=s.lock||Zd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yx:this.lock=Zd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xd(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ar[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ar[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Kw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dw(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new Jm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cn}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await br(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:cn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:cn})}else throw new Ki("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yd})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yd})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Hi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,h,f,v;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:N,wallet:g,statement:m,options:p}=t;let j;if(Ot())if(typeof g=="object")j=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const C=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:N,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:qw(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:cn});if(g)throw g;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Hi}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:g})}catch(N){if(K(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cn});if(await Sn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await br(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ki("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:cn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await br(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ux})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cn;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Wa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ir(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Qa()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:An})})}catch(n){if(K(n))return $w(n)&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Cn;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await br(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:An});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Ka(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ot())throw new Qi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qd("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Qi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const v=f-d;v*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:x,error:N}=await this._getUser(i);if(N)throw N;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Lw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Hw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await br(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Jw(async s=>(s>0&&await Gw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ha(i)&&Date.now()+a-r<Rr})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ir(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Qa()}else if(s&&!s.user&&!s.user){const a=await ir(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Sn(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Qa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wa;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Wa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ha(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ia;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Cn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),K(i)){const a={session:null,error:i};return Ha(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Gd(s);await Ir(this.storage,this.storageKey,i)}else{const s=Gd(n);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Sn(this.storage,this.storageKey),await Sn(this.storage,this.storageKey+"-code-verifier"),await Sn(this.storage,this.storageKey+"-user"),this.userStorage&&await Sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${rc} ticks`),s<=rc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ep)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await br(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ka(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Iw>s)return r;const{data:i,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Ka(r);n!=null&&n.allowExpired||rx(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=sx(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Vw(`${l}.${c}`)))throw new oc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}ui.nextInstanceID=0;const xx=ui;class jx extends xx{constructor(t){super(t)}}var _x=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Nx{constructor(t,n,r){var s,i,a;this.supabaseUrl=t,this.supabaseKey=n;const l=bw(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:yw,realtime:xw,auth:Object.assign(Object.assign({},ww),{storageKey:c}),global:vw},d=Ew(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=kw(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new M0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new g0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return _x(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jx({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kx=(e,t,n)=>new Nx(e,t,n);function Sx(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Sx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cx="https://base.muraltv.com.br",Ex="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzUyODA3NjAwLCJleHAiOjE5MTA1NzQwMDB9.P4goMdCvXKPk9ViLYlSUk7nR_zeW3yUw5ixjv7Mk99g",U=kx(Cx,Ex),tp=y.createContext(void 0),Xn=()=>{const e=y.useContext(tp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},bx=({children:e})=>{const[t,n]=y.useState(null),[r,s]=y.useState(null),[i,a]=y.useState(!0);y.useEffect(()=>{U.auth.getSession().then(({data:{session:h}})=>{s(h),n((h==null?void 0:h.user)??null),a(!1)});const{data:{subscription:d}}=U.auth.onAuthStateChange((h,f)=>{s(f),n((f==null?void 0:f.user)??null),a(!1)});return()=>d.unsubscribe()},[]);const u={user:t,session:r,loading:i,signIn:async(d,h)=>{const{error:f}=await U.auth.signInWithPassword({email:d,password:h});return{error:f}},signOut:async()=>{await U.auth.signOut()}};return o.jsx(tp.Provider,{value:u,children:e})},Px=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(!1),[a,l]=y.useState(""),{signIn:c}=Xn(),u=Nr(),d=async h=>{h.preventDefault(),i(!0),l("");const{error:f}=await c(e,n);f?l("Email ou senha incorretos"):u("/dashboard"),i(!1)};return o.jsxs("div",{className:"login-container",children:[o.jsxs("div",{className:"login-left",children:[o.jsx("div",{className:"login-header",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"login-form-container",children:[o.jsx("h1",{className:"login-title",children:"Entrar"}),o.jsxs("form",{onSubmit:d,className:"login-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"E-mail"}),o.jsxs("div",{className:"input-container",children:[o.jsx("input",{type:"email",id:"email",value:e,onChange:h=>t(h.target.value),placeholder:"voce@empresa.com",className:"form-input",required:!0}),o.jsx("div",{className:"input-icon error-icon",children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Senha"}),o.jsxs("div",{className:"input-container",children:[o.jsx("input",{type:"password",id:"password",value:n,onChange:h=>r(h.target.value),className:"form-input",required:!0}),o.jsx("div",{className:"input-icon error-icon",children:""})]})]}),a&&o.jsx("div",{className:"error-message",children:a}),o.jsxs("button",{type:"submit",className:"login-button",disabled:s,children:[o.jsx("span",{className:"button-icon",children:""}),"Entrar"]})]}),o.jsxs("div",{className:"login-links",children:[o.jsx("a",{href:"#",className:"link",children:"Criar conta"}),o.jsx("span",{className:"link-separator",children:""}),o.jsx("a",{href:"#",className:"link",children:"Enviar link mgico"})]})]})]}),o.jsx("div",{className:"login-right",children:o.jsxs("div",{className:"info-panel",children:[o.jsx("h2",{className:"info-title",children:"Conecte-se ao MRIT Vision Web"}),o.jsx("p",{className:"info-description",children:"Gerencie remotamente seus displays, playlists e anncios em tempo real."}),o.jsxs("ul",{className:"info-features",children:[o.jsx("li",{children:"Altere a exibio em tempo real."}),o.jsx("li",{children:"Crie e gerencie playlists para cada tela."}),o.jsx("li",{children:"Tenha todo o controle de sua operao com apenas um clique."})]})]})})]})},_i=({isOpen:e,onClose:t})=>{var v,w;const{user:n}=Xn(),[r,s]=y.useState(null),[i,a]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(!1);y.useEffect(()=>{e&&(n!=null&&n.id)&&h()},[e,n==null?void 0:n.id]);const h=async()=>{if(n!=null&&n.id){c(!0);try{const{data:x,error:N}=await U.from("usuarios").select("*").eq("uuid",n.id).single();if(N){console.error("Erro ao buscar informaes do usurio:",N);return}s(x),a(x.nome||"")}catch(x){console.error("Erro ao buscar informaes do usurio:",x)}finally{c(!1)}}},f=async()=>{if(!(!(n!=null&&n.id)||!i.trim())){d(!0);try{const{error:x}=await U.from("usuarios").update({nome:i.trim()}).eq("uuid",n.id);if(x){console.error("Erro ao atualizar nome:",x);return}s({...r,nome:i.trim()})}catch(x){console.error("Erro ao atualizar nome:",x)}finally{d(!1)}}};return e?o.jsx("div",{className:"modal-overlay",onClick:t,style:{zIndex:10001,display:"flex"},children:o.jsxs("div",{className:"modal-content user-settings-modal",onClick:x=>x.stopPropagation(),style:{zIndex:10002},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:" Configuraes da Conta"}),o.jsx("button",{className:"close-button",onClick:t,children:""})]}),o.jsx("div",{className:"modal-body",children:l?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Carregando suas informaes..."})]}):r?o.jsxs("div",{className:"user-settings",children:[o.jsxs("div",{className:"settings-section",children:[o.jsx("div",{className:"section-header",children:o.jsx("h4",{children:" Informaes Pessoais"})}),o.jsxs("div",{className:"section-content",children:[o.jsxs("div",{className:"info-row",children:[o.jsx("label",{className:"info-label",children:"Nome Completo"}),o.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),className:"form-input",placeholder:"Digite seu nome completo"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("label",{className:"info-label",children:"Email"}),o.jsx("div",{className:"info-value",children:r.email||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("label",{className:"info-label",children:"Status da Conta"}),o.jsx("span",{className:`status-badge ${((v=r.status)==null?void 0:v.toLowerCase())||"inactive"}`,children:r.status||"N/A"})]})]})]}),o.jsxs("div",{className:"settings-section",children:[o.jsx("div",{className:"section-header",children:o.jsx("h4",{children:" Plano e Limites"})}),o.jsx("div",{className:"section-content",children:o.jsxs("div",{className:"plan-info-grid",children:[o.jsx("div",{className:"plan-card",children:o.jsxs("div",{className:"plan-header",children:[o.jsx("span",{className:"plan-label",children:"Plano Atual"}),o.jsx("span",{className:`plan-badge ${((w=r.plano)==null?void 0:w.toLowerCase())||"iniciante"}`,children:r.plano||"INICIANTE"})]})}),o.jsxs("div",{className:"limits-grid",children:[o.jsxs("div",{className:"limit-item",children:[o.jsx("div",{className:"limit-icon",children:""}),o.jsxs("div",{className:"limit-info",children:[o.jsx("span",{className:"limit-label",children:"Telas"}),o.jsxs("span",{className:"limit-value",children:[r.telas_criadas||0," / ",r.telas||0]})]}),o.jsx("div",{className:"limit-progress",children:o.jsx("div",{className:"limit-bar",style:{width:`${r.telas?(r.telas_criadas||0)/r.telas*100:0}%`}})})]}),o.jsxs("div",{className:"limit-item",children:[o.jsx("div",{className:"limit-icon",children:""}),o.jsxs("div",{className:"limit-info",children:[o.jsx("span",{className:"limit-label",children:"Anncios"}),o.jsx("span",{className:"limit-value",children:r.anuncios||0})]})]}),o.jsxs("div",{className:"limit-item",children:[o.jsx("div",{className:"limit-icon",children:""}),o.jsxs("div",{className:"limit-info",children:[o.jsx("span",{className:"limit-label",children:"Disponveis"}),o.jsx("span",{className:"limit-value",children:r.telas_disponiveis||0})]})]})]})]})})]})]}):o.jsxs("div",{className:"error-container",children:[o.jsx("div",{className:"error-icon",children:""}),o.jsx("p",{children:"Erro ao carregar informaes do usurio"})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:t,disabled:u,children:"Fechar"}),o.jsx("button",{className:"save-button",onClick:f,disabled:u||!i.trim()||i===(r==null?void 0:r.nome),children:u?"Salvando...":"Salvar Alteraes"})]})]})}):null},Tx=()=>{const{user:e,signOut:t}=Xn(),n=Nr(),r=Jn(),[s,i]=y.useState({total:0,emUso:0,disponiveis:0,online:0,offline:0}),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState(!1),[f,v]=y.useState(!1),[w,x]=y.useState(!1);y.useEffect(()=>{N()},[e]),y.useEffect(()=>{const k=E=>{E.target.closest(".user-menu")||h(!1)};return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[]);const N=async()=>{try{if(!(e!=null&&e.id))return;const{data:k,error:E}=await U.from("displays").select("id, nome, status, status_tela, created_at, local, conteudo_atual, tipo").eq("token",e.id);if(E){console.error("Erro ao buscar displays:",E);return}const R=k||[],V=R.length,L=R.filter(ie=>ie.status==="Em uso").length,ee=R.filter(ie=>ie.status==="Disponvel").length,Q=R.filter(ie=>ie.status_tela==="Online").length,W=R.filter(ie=>ie.status_tela==="Offline").length;i({total:V,emUso:L,disponiveis:ee,online:Q,offline:W});const ne=R.filter(ie=>ie.status==="Em uso");l(ne)}catch(k){console.error("Erro ao buscar dados do dashboard:",k)}finally{u(!1)}},g=k=>{switch(k){case"resumo":n("/dashboard");break;case"displays":n("/dashboard/displays");break;case"anuncios":n("/dashboard/anuncios");break;case"playlists":n("/dashboard/playlists");break;case"agendamentos":n("/dashboard/agendamentos");break}},m=()=>{h(!d)},p=async()=>{try{await t(),n("/")}catch(k){console.error("Erro ao fazer logout:",k)}},j=()=>{h(!1),x(!0)},C=k=>{switch(k){case"resumo":return r.pathname==="/dashboard";case"displays":return r.pathname==="/dashboard/displays";case"anuncios":return r.pathname==="/dashboard/anuncios";case"playlists":return r.pathname==="/dashboard/playlists";case"agendamentos":return r.pathname==="/dashboard/agendamentos";default:return!1}};return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsxs("div",{className:"user-menu",children:[o.jsx("button",{className:"user-avatar",onClick:m,children:"M"}),d&&o.jsxs("div",{className:"user-dropdown",children:[o.jsx("button",{className:"user-dropdown-item",onClick:j,children:" Configuraes"}),o.jsx("button",{className:"user-dropdown-item logout",onClick:p,children:" Sair"})]})]})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${C("resumo")?"active":""}`,onClick:()=>g("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${C("displays")?"active":""}`,onClick:()=>g("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${C("anuncios")?"active":""}`,onClick:()=>g("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${C("playlists")?"active":""}`,onClick:()=>g("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${C("agendamentos")?"active":""}`,onClick:()=>g("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),C("resumo")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"summary-cards",children:[o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-title",children:"Total Displays"}),o.jsx("div",{className:"card-number",children:s.total})]}),o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-title",children:"Em uso"}),o.jsx("div",{className:"card-number",children:s.emUso})]}),o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-title",children:"Disponveis"}),o.jsx("div",{className:"card-number",children:s.disponiveis})]}),o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-title",children:"Online"}),o.jsx("div",{className:"card-number",children:s.online})]}),o.jsxs("div",{className:"summary-card",children:[o.jsx("div",{className:"card-title",children:"Offline"}),o.jsx("div",{className:"card-number",children:s.offline})]})]}),o.jsxs("div",{className:"main-content",children:[o.jsxs("div",{className:"content-header",children:[o.jsx("h2",{className:"content-title",children:"Displays em uso"}),o.jsxs("button",{className:"refresh-button",onClick:N,children:[o.jsx("span",{className:"refresh-icon",children:""}),"Atualizar"]})]}),o.jsx("div",{className:"content-body",children:c?o.jsx("p",{className:"empty-state",children:"Carregando displays..."}):a.length===0?o.jsx("p",{className:"empty-state",children:"Nenhum display em uso no momento."}):o.jsx("div",{className:"displays-list",children:a.map(k=>o.jsx("div",{className:"display-item",children:o.jsxs("div",{className:"display-header-horizontal",children:[o.jsx("div",{className:"display-left",children:o.jsxs("div",{className:"display-title-section",children:[o.jsx("div",{className:"display-icon",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"display-name",children:k.nome||`Display ${k.id}`}),k.local&&o.jsxs("p",{className:"display-location",children:[" ",k.local]})]})]})}),o.jsx("div",{className:"display-center",children:k.conteudo_atual&&o.jsxs("div",{className:"display-content-horizontal",children:[o.jsx("div",{className:"content-label",children:"Contedo em exibio:"}),o.jsx("div",{className:"content-title",children:k.conteudo_atual}),k.tipo&&o.jsx("div",{className:"content-type",children:o.jsx("span",{className:"type-badge",children:k.tipo})})]})}),o.jsxs("div",{className:"display-right",children:[o.jsxs("div",{className:`status-indicator ${k.status_tela==="Online"?"online":"offline"}`,children:[o.jsx("span",{className:`status-dot ${k.status_tela==="Online"?"online":"offline"}`}),k.status_tela==="Online"?"Online":"Offline"]}),o.jsxs("button",{className:"view-display-button",onClick:()=>n("/dashboard/displays"),children:[o.jsx("span",{children:""}),"Ver Display"]})]})]})},k.id))})})]})]}),f&&o.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:o.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Configuraes"}),o.jsx("button",{className:"close-button",onClick:()=>v(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"construction-message",children:[o.jsx("div",{className:"construction-icon",children:""}),o.jsx("h4",{children:"Em Construo"}),o.jsx("p",{children:"Esta funcionalidade est sendo desenvolvida e estar disponvel em breve."})]})}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-button",onClick:()=>v(!1),children:"Fechar"})})]})}),o.jsx(_i,{isOpen:w,onClose:()=>x(!1)})]})},Ax=()=>{const{user:e,signOut:t}=Xn(),n=Nr(),r=Jn(),[s,i]=y.useState([]),[a,l]=y.useState(!0),[c,u]=y.useState(null),[d,h]=y.useState(!1),[f,v]=y.useState(!1),[w,x]=y.useState(!1),[N,g]=y.useState("simple"),[m,p]=y.useState({nome:"",local:""}),[j,C]=y.useState(!1),[k,E]=y.useState(!1),[R,V]=y.useState(!1),[L,ee]=y.useState(!1),[Q,W]=y.useState({nome:"",local:""}),[ne,ie]=y.useState(!1),[de,Ae]=y.useState(!1),[A,D]=y.useState(!1),[$,X]=y.useState(!1),[G,Ee]=y.useState(!1),[q,ke]=y.useState(!1),[H,De]=y.useState(null),[it,zt]=y.useState([]),[Qe,Be]=y.useState(null),[Ge,nn]=y.useState(!1),[Vt,le]=y.useState([]),[Me,je]=y.useState(null),[oe,jn]=y.useState(null),[ot,qt]=y.useState(!1);y.useEffect(()=>{Se()},[]),y.useEffect(()=>{(H==="imagem"||H==="video")&&F(H)},[H]),y.useEffect(()=>{const S=Z=>{Z.target.closest(".user-menu")||E(!1)};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[]);const Se=async()=>{try{if(!(e!=null&&e.id))return;const{data:S,error:Z}=await U.from("displays").select("*").eq("token",e.id).order("created_at",{ascending:!1});if(Z){console.error("Erro ao buscar displays:",Z);return}const ge=(S||[]).sort((Ve,_n)=>Ve.status==="Em uso"&&_n.status!=="Em uso"?-1:Ve.status!=="Em uso"&&_n.status==="Em uso"?1:new Date(_n.created_at||"").getTime()-new Date(Ve.created_at||"").getTime());i(ge)}catch(S){console.error("Erro ao buscar displays:",S)}finally{l(!1)}},At=S=>{S.status==="Em uso"&&(u(S),x(!0))},at=S=>{u(S),p({nome:S.nome||"",local:S.local||""}),v(!0)},rn=async()=>{if(c){C(!0);try{const{error:S}=await U.from("displays").update({nome:m.nome,local:m.local}).eq("id",c.id);if(S){console.error("Erro ao salvar configurao:",S);return}i(s.map(Z=>Z.id===c.id?{...Z,nome:m.nome,local:m.local}:Z)),v(!1)}catch(S){console.error("Erro ao salvar configurao:",S)}finally{C(!1)}}},sn=S=>{u(S),X(!0)},on=async()=>{if(c){Ee(!0);try{const{error:S}=await U.from("displays").update({is_locked:!1,status:"Disponvel",status_tela:"Offline",conteudo_atual:"",conteudo_atual_link:"",tipo:"",codigo_conteudoAtual:"",em_exibicao:!1}).eq("id",c.id);if(S){console.error("Erro ao pausar display:",S);return}i(s.map(Z=>Z.id===c.id?{...Z,is_locked:!1,status:"Disponvel",status_tela:"Offline",conteudo_atual:"",conteudo_atual_link:"",tipo:"",codigo_conteudoAtual:"",em_exibicao:!1}:Z)),X(!1),Se()}catch(S){console.error("Erro ao pausar display:",S)}finally{Ee(!1)}}},P=async()=>{if(e!=null&&e.id)try{const{data:S,error:Z}=await U.from("playlists").select("*").eq("token",e.id).order("nome",{ascending:!0});if(Z){console.error("Erro ao buscar playlists:",Z);return}zt(S||[])}catch(S){console.error("Erro ao buscar playlists:",S)}},F=async S=>{if(e!=null&&e.id)try{const{data:Z,error:ge}=await U.from("conteudos").select("*").eq("uuid",e.id).eq("tipo",S==="imagem"?"Imagem":"Vdeo").order("created_at",{ascending:!1});if(ge){console.error("Erro ao buscar contedos:",ge);return}le(Z||[])}catch(Z){console.error("Erro ao buscar contedos:",Z)}},he=async()=>{if(!(!c||!H)){nn(!0);try{let S={};H==="playlist"&&Qe?S={conteudo_atual:Qe.nome,conteudo_atual_link:"-",tipo:"Playlist",codigo_conteudoAtual:Qe.codigo_unico||Qe.id.toString()}:H==="imagem"&&Me?S={conteudo_atual:Me.titulo,conteudo_atual_link:Me.url,tipo:"Imagem",codigo_conteudoAtual:Me.codigoAnuncio}:H==="video"&&oe&&(S={conteudo_atual:oe.titulo,conteudo_atual_link:oe.url,tipo:"Vdeo",codigo_conteudoAtual:oe.codigoAnuncio});const{error:Z}=await U.from("displays").update(S).eq("id",c.id);if(Z){console.error("Erro ao setar contedo:",Z);return}i(s.map(ge=>ge.id===c.id?{...ge,...S}:ge)),ke(!1),De(null),Be(null),je(null),jn(null),le([]),Se()}catch(S){console.error("Erro ao setar contedo:",S)}finally{nn(!1)}}},Re=()=>{W({nome:"",local:""}),ee(!0)},lt=async()=>{if(!(!Q.nome.trim()||!Q.local.trim()||!(e!=null&&e.id))){ie(!0);try{const S=`DISP_${Date.now()}_${Math.random().toString(36).substring(2,8).toUpperCase()}`,{error:Z}=await U.from("displays").insert({token:e.id,nome:Q.nome.trim(),local:Q.local.trim(),codigo_unico:S,status:"Disponvel",status_tela:"Offline",is_locked:!1,em_exibicao:!1});if(Z){console.error("Erro ao criar display:",Z);return}await Se(),ee(!1),W({nome:"",local:""})}catch(S){console.error("Erro ao criar display:",S)}finally{ie(!1)}}},_e=()=>{ee(!1),W({nome:"",local:""})},an=()=>{Ae(!0)},b=async()=>{if(c){D(!0);try{const{error:S}=await U.from("displays").delete().eq("id",c.id);if(S){console.error("Erro ao excluir display:",S);return}await Se(),Ae(!1),v(!1),u(null)}catch(S){console.error("Erro ao excluir display:",S)}finally{D(!1)}}},z=()=>{Ae(!1)},B=S=>{switch(S){case"resumo":n("/dashboard");break;case"displays":n("/dashboard/displays");break;case"anuncios":n("/dashboard/anuncios");break;case"playlists":n("/dashboard/playlists");break;case"agendamentos":n("/dashboard/agendamentos");break}},ze=()=>{E(!k)},pe=async()=>{try{await t(),n("/")}catch(S){console.error("Erro ao fazer logout:",S)}},er=()=>{E(!1),qt(!0)},gt=S=>{switch(S){case"resumo":return r.pathname==="/dashboard";case"displays":return r.pathname==="/dashboard/displays";case"anuncios":return r.pathname==="/dashboard/anuncios";case"playlists":return r.pathname==="/dashboard/playlists";case"agendamentos":return r.pathname==="/dashboard/agendamentos";default:return!1}},Si=S=>{switch(S){case"Em uso":return"status-em-uso";case"Disponvel":return"status-disponivel";default:return"status-default"}},tr=S=>{switch(S){case"Online":return"status-online";case"Offline":return"status-offline";default:return"status-default"}},gs=S=>S?new Date(S).toLocaleString("pt-BR"):"N/A";return a?o.jsxs("div",{className:"displays-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsx("div",{className:"user-avatar",children:"M"})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${gt("resumo")?"active":""}`,onClick:()=>B("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${gt("displays")?"active":""}`,onClick:()=>B("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${gt("anuncios")?"active":""}`,onClick:()=>B("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${gt("playlists")?"active":""}`,onClick:()=>B("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${gt("agendamentos")?"active":""}`,onClick:()=>B("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"displays-header",children:[o.jsx("h1",{children:"Displays"}),o.jsx("button",{className:"create-button",onClick:Re,children:"+ Nova Tela"})]}),o.jsx("div",{className:"loading",children:"Carregando displays..."})]})]}):o.jsxs("div",{className:"displays-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsxs("div",{className:"user-menu",children:[o.jsx("button",{className:"user-avatar",onClick:ze,children:"M"}),k&&o.jsxs("div",{className:"user-dropdown",children:[o.jsx("button",{className:"user-dropdown-item",onClick:er,children:" Configuraes"}),o.jsx("button",{className:"user-dropdown-item logout",onClick:pe,children:" Sair"})]})]})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${gt("resumo")?"active":""}`,onClick:()=>B("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${gt("displays")?"active":""}`,onClick:()=>B("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${gt("anuncios")?"active":""}`,onClick:()=>B("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${gt("playlists")?"active":""}`,onClick:()=>B("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${gt("agendamentos")?"active":""}`,onClick:()=>B("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"displays-header",children:[o.jsx("h1",{children:"Displays"}),o.jsxs("div",{className:"header-actions",children:[o.jsxs("div",{className:"view-toggle",children:[o.jsx("button",{className:`toggle-button ${N==="simple"?"active":""}`,onClick:()=>g("simple"),children:"Simples"}),o.jsx("button",{className:`toggle-button ${N==="complete"?"active":""}`,onClick:()=>g("complete"),children:"Completa"})]}),o.jsx("button",{className:"create-button",onClick:Re,children:"+ Nova Tela"})]})]}),o.jsx("div",{className:`displays-grid ${N==="simple"?"simple-mode":""}`,children:s.map(S=>o.jsxs("div",{className:`display-card ${N==="simple"?"simple-view":"complete-view"} ${S.status==="Em uso"?"in-use":""}`,children:[o.jsxs("div",{className:"display-header",children:[o.jsx("h3",{children:S.nome||`Display ${S.id}`}),o.jsxs("div",{className:"display-actions",children:[o.jsx("button",{className:"config-button",onClick:()=>at(S),children:" Configurar"}),S.status==="Em uso"&&o.jsx("button",{className:"view-button",onClick:()=>At(S),children:" Ver Contedo"})]})]}),N==="simple"?o.jsxs("div",{className:"display-info-simple",children:[S.status==="Em uso"?o.jsxs("div",{className:"info-row content-row",children:[o.jsx("span",{className:"label",children:"Contedo em exibio:"}),o.jsx("span",{className:"current-content-title",children:S.conteudo_atual||"Nenhum contedo"})]}):o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Status:"}),o.jsx("span",{className:`status ${Si(S.status)}`,children:S.status||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Conexo:"}),o.jsx("span",{className:`status ${tr(S.status_tela)}`,children:S.status_tela||"N/A"})]}),S.status==="Em uso"&&o.jsx("div",{className:"pause-button-wrapper",children:o.jsx("button",{className:"pause-display-btn",onClick:()=>sn(S),title:"Pausar exibio",children:""})})]}):o.jsxs("div",{className:"display-info",children:[S.conteudo_atual&&o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Contedo Atual:"}),o.jsx("span",{children:S.conteudo_atual})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Status:"}),o.jsx("span",{className:`status ${Si(S.status)}`,children:S.status||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Conexo:"}),o.jsx("span",{className:`status ${tr(S.status_tela)}`,children:S.status_tela||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Local:"}),o.jsx("span",{children:S.local||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Cdigo nico:"}),o.jsx("span",{children:S.codigo_unico||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Tipo de Contedo:"}),o.jsx("span",{children:S.tipo||"N/A"})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Criado em:"}),o.jsx("span",{children:gs(S.created_at)})]}),S.status==="Em uso"&&o.jsx("div",{className:"pause-button-wrapper",children:o.jsx("button",{className:"pause-display-btn",onClick:()=>sn(S),title:"Pausar exibio",children:""})})]})]},S.id))}),s.length===0&&o.jsxs("div",{className:"empty-state",children:[o.jsx("p",{children:"Nenhum display encontrado."}),o.jsx("button",{className:"create-button",onClick:Re,children:"+ Criar Primeira Tela"})]})]}),w&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:o.jsxs("div",{className:"view-modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"view-modal-header",children:[o.jsx("h3",{children:c.conteudo_atual||`Contedo - ${c.nome||`Display ${c.id}`}`}),o.jsx("button",{className:"close-button",onClick:()=>x(!1),children:""})]}),o.jsx("div",{className:"view-modal-body",children:(()=>{const Z=(Ve=>{var Ci;if(!Ve)return"unknown";const _n=(Ci=Ve.split(".").pop())==null?void 0:Ci.toLowerCase();return["mp4","avi","mov","wmv","flv","webm","mkv"].includes(_n||"")?"Vdeo":["jpg","jpeg","png","gif","bmp","webp","svg"].includes(_n||"")?"Imagem":"unknown"})(c.conteudo_atual_link||""),ge=c.tipo||Z;return c.tipo==="playlist"||ge==="playlist"?o.jsxs("div",{className:"view-no-media",children:[o.jsx("div",{className:"no-media-icon",children:""}),o.jsx("div",{className:"no-media-text",children:"Mini exibio no disponvel para playlists"})]}):c.conteudo_atual_link?o.jsx("div",{className:"view-media-container",children:ge==="Vdeo"?o.jsx("video",{src:c.conteudo_atual_link,className:"view-media",autoPlay:!0,loop:!0,muted:!0,controls:!1,playsInline:!0}):o.jsx("img",{src:c.conteudo_atual_link,className:"view-media",alt:c.conteudo_atual||"Contedo do Display"})}):o.jsxs("div",{className:"view-no-media",children:[o.jsx("div",{className:"no-media-icon",children:""}),o.jsx("div",{className:"no-media-text",children:"Nenhum contedo para exibir no momento"})]})})()})]})}),f&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{children:["Configurar Display - ",c.nome||`Display ${c.id}`]}),o.jsx("button",{className:"close-button",onClick:()=>v(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"config-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"config-nome",className:"form-label",children:"Nome do Display"}),o.jsx("input",{type:"text",id:"config-nome",value:m.nome,onChange:S=>p({...m,nome:S.target.value}),className:"form-input",placeholder:"Digite o nome do display"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"config-local",className:"form-label",children:"Local"}),o.jsx("input",{type:"text",id:"config-local",value:m.local,onChange:S=>p({...m,local:S.target.value}),className:"form-input",placeholder:"Digite o local do display"})]}),c.status==="Em uso"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"pause-section",children:[o.jsxs("div",{className:"pause-info",children:[o.jsx("h4",{children:" Pausar Exibio"}),o.jsx("p",{children:"Esta ao ir parar a exibio atual e liberar o display."})]}),o.jsx("button",{className:"pause-button",onClick:on,disabled:j,children:j?"Processando...":" Pausar Exibio"})]}),o.jsxs("div",{className:"content-section",children:[o.jsxs("div",{className:"content-info",children:[o.jsx("h4",{children:" Definir Contedo"}),o.jsx("p",{children:"Escolha o tipo de contedo para exibir nesta tela."})]}),o.jsx("button",{className:"content-button",onClick:()=>{P(),ke(!0)},disabled:j,children:" Definir Contedo"})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"delete-display-button",onClick:an,disabled:j,title:"Excluir esta tela",children:" Excluir tela"}),o.jsxs("div",{className:"modal-actions-right",children:[o.jsx("button",{className:"cancel-button",onClick:()=>v(!1),disabled:j,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:rn,disabled:j,children:j?"Salvando...":"Salvar"})]})]})]})})]})}),R&&o.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Configuraes"}),o.jsx("button",{className:"close-button",onClick:()=>V(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"construction-message",children:[o.jsx("div",{className:"construction-icon",children:""}),o.jsx("h4",{children:"Em Construo"}),o.jsx("p",{children:"Esta funcionalidade est sendo desenvolvida e estar disponvel em breve."})]})}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-button",onClick:()=>V(!1),children:"Fechar"})})]})}),L&&o.jsx("div",{className:"modal-overlay",onClick:_e,children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Nova Tela"}),o.jsx("button",{className:"close-button",onClick:_e,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"config-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"new-nome",className:"form-label",children:"Nome da Tela"}),o.jsx("input",{type:"text",id:"new-nome",value:Q.nome,onChange:S=>W({...Q,nome:S.target.value}),className:"form-input",placeholder:"Digite o nome da tela",disabled:ne})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"new-local",className:"form-label",children:"Local da Tela"}),o.jsx("input",{type:"text",id:"new-local",value:Q.local,onChange:S=>W({...Q,local:S.target.value}),className:"form-input",placeholder:"Digite o local da tela",disabled:ne})]}),o.jsxs("div",{className:"add-info",children:[o.jsx("div",{className:"info-icon",children:""}),o.jsxs("div",{className:"info-text",children:[o.jsx("p",{children:'A tela ser criada com status "Disponvel" e estar pronta para receber contedo.'}),o.jsx("p",{children:"Um cdigo nico ser gerado automaticamente para identificao."})]})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:_e,disabled:ne,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:lt,disabled:ne||!Q.nome.trim()||!Q.local.trim(),children:ne?"Criando...":"Criar Tela"})]})]})}),de&&c&&o.jsx("div",{className:"modal-overlay",onClick:z,children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Excluir Tela"}),o.jsx("button",{className:"close-button",onClick:z,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"delete-warning",children:[o.jsx("div",{className:"warning-icon",children:""}),o.jsx("p",{children:"Tem certeza que deseja excluir esta tela?"}),o.jsxs("p",{className:"display-name",children:['"',c.nome||`Display ${c.id}`,'"']}),o.jsx("p",{className:"warning-text",children:"Esta ao no pode ser desfeita e todos os dados da tela sero perdidos."})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:z,disabled:A,children:"Cancelar"}),o.jsx("button",{className:"delete-button",onClick:b,disabled:A,children:A?"Excluindo...":"Excluir Tela"})]})]})}),$&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>X(!1),children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Pausar Exibio"}),o.jsx("button",{className:"close-button",onClick:()=>X(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"pause-warning",children:[o.jsx("div",{className:"warning-icon",children:""}),o.jsx("p",{children:"Tem certeza que deseja parar a exibio?"}),o.jsxs("p",{className:"display-name",children:['"',c.nome||`Display ${c.id}`,'"']}),o.jsx("p",{className:"warning-text",children:"Ao fazer isso, a tela que estiver em uso vai parar de exibir o contedo e ficar disponvel."})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:()=>X(!1),disabled:G,children:"Cancelar"}),o.jsx("button",{className:"pause-button",onClick:on,disabled:G,children:G?"Pausando...":"Pausar Exibio"})]})]})}),q&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>ke(!1),children:o.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{children:["Definir Contedo - ",c.nome||`Display ${c.id}`]}),o.jsx("button",{className:"close-button",onClick:()=>ke(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"content-selection",children:[o.jsx("h4",{children:"Escolha o tipo de contedo:"}),o.jsxs("div",{className:"content-type-buttons",children:[o.jsx("button",{className:`content-type-btn ${H==="imagem"?"active":""}`,onClick:()=>De("imagem"),children:" Imagem"}),o.jsx("button",{className:`content-type-btn ${H==="video"?"active":""}`,onClick:()=>De("video"),children:" Vdeo"}),o.jsx("button",{className:`content-type-btn ${H==="playlist"?"active":""}`,onClick:()=>De("playlist"),children:" Playlist"})]}),H==="playlist"&&o.jsxs("div",{className:"playlist-selection",children:[o.jsx("h5",{children:"Selecione uma playlist:"}),o.jsxs("select",{className:"playlist-select",value:(Qe==null?void 0:Qe.id)||"",onChange:S=>{const Z=it.find(ge=>ge.id===parseInt(S.target.value));Be(Z)},children:[o.jsx("option",{value:"",children:"Selecione uma playlist..."}),it.map(S=>o.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),H==="imagem"&&o.jsxs("div",{className:"content-selection-section",children:[o.jsx("h5",{children:"Selecione uma imagem:"}),o.jsxs("select",{className:"content-select",value:(Me==null?void 0:Me.id)||"",onChange:S=>{const Z=Vt.find(ge=>ge.id===parseInt(S.target.value));je(Z)},children:[o.jsx("option",{value:"",children:"Selecione uma imagem..."}),Vt.map(S=>o.jsx("option",{value:S.id,children:S.titulo},S.id))]}),Me&&o.jsxs("div",{className:"preview-container",children:[o.jsx("img",{src:Me.url,alt:Me.titulo,className:"preview-image"}),o.jsx("p",{className:"file-name",children:Me.titulo})]})]}),H==="video"&&o.jsxs("div",{className:"content-selection-section",children:[o.jsx("h5",{children:"Selecione um vdeo:"}),o.jsxs("select",{className:"content-select",value:(oe==null?void 0:oe.id)||"",onChange:S=>{const Z=Vt.find(ge=>ge.id===parseInt(S.target.value));jn(Z)},children:[o.jsx("option",{value:"",children:"Selecione um vdeo..."}),Vt.map(S=>o.jsx("option",{value:S.id,children:S.titulo},S.id))]}),oe&&o.jsxs("div",{className:"preview-container",children:[o.jsx("video",{src:oe.url,className:"preview-video",muted:!0,loop:!0,playsInline:!0,autoPlay:!0}),o.jsx("p",{className:"file-name",children:oe.titulo})]})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:()=>ke(!1),disabled:Ge,children:"Cancelar"}),o.jsx("button",{className:"content-set-button",onClick:he,disabled:Ge||!H||H==="playlist"&&!Qe||H==="imagem"&&!Me||H==="video"&&!oe,children:Ge?"Definindo...":"Definir Contedo"})]})]})}),o.jsx(_i,{isOpen:ot,onClose:()=>qt(!1)})]})};var Ni={},Rx=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},np={},Nt={};let hu;const Ix=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Nt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Nt.getSymbolTotalCodewords=function(t){return Ix[t]};Nt.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Nt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');hu=t};Nt.isKanjiModeEnabled=function(){return typeof hu<"u"};Nt.toSJIS=function(t){return hu(t)};var oa={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(oa);function rp(){this.buffer=[],this.length=0}rp.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ox=rp;function ki(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ki.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};ki.prototype.get=function(e,t){return this.data[e*this.size+t]};ki.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};ki.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Lx=ki,sp={};(function(e){const t=Nt.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||s.push([i[l],i[c]]);return s}})(sp);var ip={};const $x=Nt.getSymbolSize,eh=7;ip.getPositions=function(t){const n=$x(t);return[[0,0],[n-eh,0],[0,n-eh]]};var op={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<i;h++){l=c=0,u=d=null;for(let f=0;f<i;f++){let v=s.get(h,f);v===u?l++:(l>=5&&(a+=t.N1+(l-5)),u=v,l=1),v=s.get(f,h),v===d?c++:(c>=5&&(a+=t.N1+(c-5)),d=v,c=1)}l>=5&&(a+=t.N1+(l-5)),c>=5&&(a+=t.N1+(c-5))}return a},e.getPenaltyN2=function(s){const i=s.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&a++}return a*t.N2},e.getPenaltyN3=function(s){const i=s.size;let a=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*t.N3},e.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},e.getBestMask=function(s,i){const a=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){i(u),e.applyMask(u,s);const d=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),d<c&&(c=d,l=u)}return l}})(op);var aa={};const Ln=oa,Gi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ji=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];aa.getBlocksCount=function(t,n){switch(n){case Ln.L:return Gi[(t-1)*4+0];case Ln.M:return Gi[(t-1)*4+1];case Ln.Q:return Gi[(t-1)*4+2];case Ln.H:return Gi[(t-1)*4+3];default:return}};aa.getTotalCodewordsCount=function(t,n){switch(n){case Ln.L:return Ji[(t-1)*4+0];case Ln.M:return Ji[(t-1)*4+1];case Ln.Q:return Ji[(t-1)*4+2];case Ln.H:return Ji[(t-1)*4+3];default:return}};var ap={},la={};const qs=new Uint8Array(512),$o=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)qs[n]=t,$o[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)qs[n]=qs[n-255]})();la.log=function(t){if(t<1)throw new Error("log("+t+")");return $o[t]};la.exp=function(t){return qs[t]};la.mul=function(t,n){return t===0||n===0?0:qs[$o[t]+$o[n]]};(function(e){const t=la;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<s.length;l++)i[a+l]^=t.mul(r[a],s[l]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(ap);const lp=ap;function fu(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}fu.prototype.initialize=function(t){this.degree=t,this.genPoly=lp.generateECPolynomial(this.degree)};fu.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=lp.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var Dx=fu,cp={},Zn={},mu={};mu.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var tn={};const up="[0-9]+",Mx="[A-Z $%*+\\-./:]+";let di="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";di=di.replace(/u/g,"\\u");const Ux="(?:(?![A-Z0-9 $%*+\\-./:]|"+di+`)(?:.|[\r
]))+`;tn.KANJI=new RegExp(di,"g");tn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");tn.BYTE=new RegExp(Ux,"g");tn.NUMERIC=new RegExp(up,"g");tn.ALPHANUMERIC=new RegExp(Mx,"g");const Fx=new RegExp("^"+di+"$"),Bx=new RegExp("^"+up+"$"),zx=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");tn.testKanji=function(t){return Fx.test(t)};tn.testNumeric=function(t){return Bx.test(t)};tn.testAlphanumeric=function(t){return zx.test(t)};(function(e){const t=mu,n=tn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,a){if(e.isValid(i))return i;try{return r(i)}catch{return a}}})(Zn);(function(e){const t=Nt,n=aa,r=oa,s=Zn,i=mu,a=7973,l=t.getBCHDigit(a);function c(f,v,w){for(let x=1;x<=40;x++)if(v<=e.getCapacity(x,w,f))return x}function u(f,v){return s.getCharCountIndicator(f,v)+4}function d(f,v){let w=0;return f.forEach(function(x){const N=u(x.mode,v);w+=N+x.getBitsLength()}),w}function h(f,v){for(let w=1;w<=40;w++)if(d(f,w)<=e.getCapacity(w,v,s.MIXED))return w}e.from=function(v,w){return i.isValid(v)?parseInt(v,10):w},e.getCapacity=function(v,w,x){if(!i.isValid(v))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=s.BYTE);const N=t.getSymbolTotalCodewords(v),g=n.getTotalCodewordsCount(v,w),m=(N-g)*8;if(x===s.MIXED)return m;const p=m-u(x,v);switch(x){case s.NUMERIC:return Math.floor(p/10*3);case s.ALPHANUMERIC:return Math.floor(p/11*2);case s.KANJI:return Math.floor(p/13);case s.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(v,w){let x;const N=r.from(w,r.M);if(Array.isArray(v)){if(v.length>1)return h(v,N);if(v.length===0)return 1;x=v[0]}else x=v;return c(x.mode,x.getLength(),N)},e.getEncodedBits=function(v){if(!i.isValid(v)||v<7)throw new Error("Invalid QR Code version");let w=v<<12;for(;t.getBCHDigit(w)-l>=0;)w^=a<<t.getBCHDigit(w)-l;return v<<12|w}})(cp);var dp={};const ac=Nt,hp=1335,Vx=21522,th=ac.getBCHDigit(hp);dp.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;ac.getBCHDigit(s)-th>=0;)s^=hp<<ac.getBCHDigit(s)-th;return(r<<10|s)^Vx};var fp={};const qx=Zn;function os(e){this.mode=qx.NUMERIC,this.data=e.toString()}os.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};os.prototype.getLength=function(){return this.data.length};os.prototype.getBitsLength=function(){return os.getBitsLength(this.data.length)};os.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var Wx=os;const Hx=Zn,Ja=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function as(e){this.mode=Hx.ALPHANUMERIC,this.data=e}as.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};as.prototype.getLength=function(){return this.data.length};as.prototype.getBitsLength=function(){return as.getBitsLength(this.data.length)};as.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ja.indexOf(this.data[n])*45;r+=Ja.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Ja.indexOf(this.data[n]),6)};var Kx=as;const Qx=Zn;function ls(e){this.mode=Qx.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}ls.getBitsLength=function(t){return t*8};ls.prototype.getLength=function(){return this.data.length};ls.prototype.getBitsLength=function(){return ls.getBitsLength(this.data.length)};ls.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Gx=ls;const Jx=Zn,Yx=Nt;function cs(e){this.mode=Jx.KANJI,this.data=e}cs.getBitsLength=function(t){return t*13};cs.prototype.getLength=function(){return this.data.length};cs.prototype.getBitsLength=function(){return cs.getBitsLength(this.data.length)};cs.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Yx.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Xx=cs,mp={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var l=t.PriorityQueue.make();l.push(r,0);for(var c,u,d,h,f,v,w,x,N;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=n[u]||{};for(d in f)f.hasOwnProperty(d)&&(v=f[d],w=h+v,x=a[d],N=typeof a[d]>"u",(N||x>w)&&(a[d]=w,l.push(d,w),i[d]=u))}if(typeof s<"u"&&typeof a[s]>"u"){var g=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(g)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(mp);var Zx=mp.exports;(function(e){const t=Zn,n=Wx,r=Kx,s=Gx,i=Xx,a=tn,l=Nt,c=Zx;function u(g){return unescape(encodeURIComponent(g)).length}function d(g,m,p){const j=[];let C;for(;(C=g.exec(p))!==null;)j.push({data:C[0],index:C.index,mode:m,length:C[0].length});return j}function h(g){const m=d(a.NUMERIC,t.NUMERIC,g),p=d(a.ALPHANUMERIC,t.ALPHANUMERIC,g);let j,C;return l.isKanjiModeEnabled()?(j=d(a.BYTE,t.BYTE,g),C=d(a.KANJI,t.KANJI,g)):(j=d(a.BYTE_KANJI,t.BYTE,g),C=[]),m.concat(p,j,C).sort(function(E,R){return E.index-R.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function f(g,m){switch(m){case t.NUMERIC:return n.getBitsLength(g);case t.ALPHANUMERIC:return r.getBitsLength(g);case t.KANJI:return i.getBitsLength(g);case t.BYTE:return s.getBitsLength(g)}}function v(g){return g.reduce(function(m,p){const j=m.length-1>=0?m[m.length-1]:null;return j&&j.mode===p.mode?(m[m.length-1].data+=p.data,m):(m.push(p),m)},[])}function w(g){const m=[];for(let p=0;p<g.length;p++){const j=g[p];switch(j.mode){case t.NUMERIC:m.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:m.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:m.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:m.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return m}function x(g,m){const p={},j={start:{}};let C=["start"];for(let k=0;k<g.length;k++){const E=g[k],R=[];for(let V=0;V<E.length;V++){const L=E[V],ee=""+k+V;R.push(ee),p[ee]={node:L,lastCount:0},j[ee]={};for(let Q=0;Q<C.length;Q++){const W=C[Q];p[W]&&p[W].node.mode===L.mode?(j[W][ee]=f(p[W].lastCount+L.length,L.mode)-f(p[W].lastCount,L.mode),p[W].lastCount+=L.length):(p[W]&&(p[W].lastCount=L.length),j[W][ee]=f(L.length,L.mode)+4+t.getCharCountIndicator(L.mode,m))}}C=R}for(let k=0;k<C.length;k++)j[C[k]].end=0;return{map:j,table:p}}function N(g,m){let p;const j=t.getBestModeForData(g);if(p=t.from(m,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+g+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!l.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new n(g);case t.ALPHANUMERIC:return new r(g);case t.KANJI:return new i(g);case t.BYTE:return new s(g)}}e.fromArray=function(m){return m.reduce(function(p,j){return typeof j=="string"?p.push(N(j,null)):j.data&&p.push(N(j.data,j.mode)),p},[])},e.fromString=function(m,p){const j=h(m,l.isKanjiModeEnabled()),C=w(j),k=x(C,p),E=c.find_path(k.map,"start","end"),R=[];for(let V=1;V<E.length-1;V++)R.push(k.table[E[V]].node);return e.fromArray(v(R))},e.rawSplit=function(m){return e.fromArray(h(m,l.isKanjiModeEnabled()))}})(fp);const ca=Nt,Ya=oa,ej=Ox,tj=Lx,nj=sp,rj=ip,lc=op,cc=aa,sj=Dx,Do=cp,ij=dp,oj=Zn,Xa=fp;function aj(e,t){const n=e.size,r=rj.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,a+c,!0,!0):e.set(i+l,a+c,!1,!0))}}function lj(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function cj(e,t){const n=nj.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?e.set(s+a,i+l,!0,!0):e.set(s+a,i+l,!1,!0)}}function uj(e,t){const n=e.size,r=Do.getEncodedBits(t);let s,i,a;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,a=(r>>l&1)===1,e.set(s,i,a,!0),e.set(i,s,a,!0)}function Za(e,t,n){const r=e.size,s=ij.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function dj(e,t){const n=e.size;let r=-1,s=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,l-c)){let u=!1;a<t.length&&(u=(t[a]>>>i&1)===1),e.set(s,l-c,u),i--,i===-1&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function hj(e,t,n){const r=new ej;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),oj.getCharCountIndicator(c.mode,e)),c.write(r)});const s=ca.getSymbolTotalCodewords(e),i=cc.getTotalCodewordsCount(e,t),a=(s-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(a-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return fj(r,e,t)}function fj(e,t,n){const r=ca.getSymbolTotalCodewords(t),s=cc.getTotalCodewordsCount(t,n),i=r-s,a=cc.getBlocksCount(t,n),l=r%a,c=a-l,u=Math.floor(r/a),d=Math.floor(i/a),h=d+1,f=u-d,v=new sj(f);let w=0;const x=new Array(a),N=new Array(a);let g=0;const m=new Uint8Array(e.buffer);for(let E=0;E<a;E++){const R=E<c?d:h;x[E]=m.slice(w,w+R),N[E]=v.encode(x[E]),w+=R,g=Math.max(g,R)}const p=new Uint8Array(r);let j=0,C,k;for(C=0;C<g;C++)for(k=0;k<a;k++)C<x[k].length&&(p[j++]=x[k][C]);for(C=0;C<f;C++)for(k=0;k<a;k++)p[j++]=N[k][C];return p}function mj(e,t,n,r){let s;if(Array.isArray(e))s=Xa.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=Xa.rawSplit(e);u=Do.getBestVersionForData(d,n)}s=Xa.fromString(e,u||40)}else throw new Error("Invalid data");const i=Do.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=hj(t,n,s),l=ca.getSymbolSize(t),c=new tj(l);return aj(c,t),lj(c),cj(c,t),Za(c,n,0),t>=7&&uj(c,t),dj(c,a),isNaN(r)&&(r=lc.getBestMask(c,Za.bind(null,c,n))),lc.applyMask(r,c),Za(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}np.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Ya.M,s,i;return typeof n<"u"&&(r=Ya.from(n.errorCorrectionLevel,Ya.M),s=Do.from(n.version),i=lc.from(n.maskPattern),n.toSJISFunc&&ca.setToSJISFunction(n.toSJISFunc)),mj(t,s,r,i)};var pp={},pu={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const a=s.modules.size,l=s.modules.data,c=e.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let v=0;v<u;v++){let w=(f*u+v)*4,x=i.color.light;if(f>=d&&v>=d&&f<u-d&&v<u-d){const N=Math.floor((f-d)/c),g=Math.floor((v-d)/c);x=h[l[N*a+g]?1:0]}r[w++]=x.r,r[w++]=x.g,r[w++]=x.b,r[w]=x.a}}})(pu);(function(e){const t=pu;function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=r()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return t.qrToImageData(f.data,i,c),n(h,u,d),h.putImageData(f,0,0),u},e.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=e.render(i,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(pp);var gp={};const pj=pu;function nh(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function el(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function gj(e,t,n){let r="",s=0,i=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(r+=i?el("M",c+n,.5+u+n):el("m",s,0),s=0,i=!1),c+1<t&&e[l+1]||(r+=el("h",a),a=0)):s++}return r}gp.render=function(t,n,r){const s=pj.getOptions(n),i=t.modules.size,a=t.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+nh(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+nh(s.color.dark,"stroke")+' d="'+gj(a,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,f),f};const vj=Rx,uc=np,vp=pp,yj=gp;function gu(e,t,n,r,s){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!vj())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(s=n,n=t,t=r=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=r=void 0):a===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,u){try{const d=uc.create(n,r);c(e(d,t,r))}catch(d){u(d)}})}try{const c=uc.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}Ni.create=uc.create;Ni.toCanvas=gu.bind(null,vp.render);Ni.toDataURL=gu.bind(null,vp.renderToDataURL);Ni.toString=gu.bind(null,function(e,t,n){return yj.render(e,n)});const wj=()=>{const{user:e,signOut:t}=Xn(),n=Nr(),r=Jn(),[s,i]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState("todos"),[f,v]=y.useState(null),[w,x]=y.useState(!1),[N,g]=y.useState(!1),[m,p]=y.useState(!1),[j,C]=y.useState(""),[k,E]=y.useState(!1),[R,V]=y.useState(!1),[L,ee]=y.useState(!1),[Q,W]=y.useState(!1),[ne,ie]=y.useState(null),[de,Ae]=y.useState(null),[A,D]=y.useState(""),[$,X]=y.useState(!1),[G,Ee]=y.useState(!1),[q,ke]=y.useState(null),[H,De]=y.useState([]),[it,zt]=y.useState(""),[Qe,Be]=y.useState(1),[Ge,nn]=y.useState(!1),[Vt,le]=y.useState(!1),[Me,je]=y.useState(""),[oe,jn]=y.useState(""),[ot,qt]=y.useState([]),[Se,At]=y.useState(1),[at]=y.useState(10),[rn,sn]=y.useState(!1),[on,P]=y.useState(!1),[F,he]=y.useState(""),[Re,lt]=y.useState(!1),[_e,an]=y.useState(""),[b,z]=y.useState(""),[B,ze]=y.useState(!1),[pe,er]=y.useState(null),[gt,Si]=y.useState([]),[tr,gs]=y.useState(""),[S,Z]=y.useState(!1);y.useEffect(()=>{ge()},[d]),y.useEffect(()=>{let _=[];if(d==="qrcode"?_=a.map(I=>({id:`qr-${I.id}`,display_id:null,url:I.url_qrcode,tipo:"QR Code",uuid:I.uid,tempo_exibicao:null,titulo:I.codigo_promo,created_at:I.created_at,codigoAnuncio:I.id_promo})):d==="todos"?_=s.filter(I=>I.tipo!=="QR Code"):_=s,!oe.trim())qt(_);else{const I=_.filter(te=>{var ae,M,be;return((ae=te.titulo)==null?void 0:ae.toLowerCase().includes(oe.toLowerCase()))||((M=te.tipo)==null?void 0:M.toLowerCase().includes(oe.toLowerCase()))||((be=te.codigoAnuncio)==null?void 0:be.toLowerCase().includes(oe.toLowerCase()))});qt(I)}At(1)},[s,a,d,oe]),y.useEffect(()=>{const _=I=>{const te=I.target;te.closest(".actions-menu")||document.querySelectorAll(".actions-dropdown.show").forEach(ae=>{ae.classList.remove("show")}),te.closest(".user-menu")||V(!1)};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[]);const ge=async()=>{try{if(!(e!=null&&e.id))return;let _=U.from("conteudos").select("*").eq("uuid",e.id).order("created_at",{ascending:!1});d!=="todos"&&d!=="qrcode"&&(_=_.eq("tipo",d==="imagem"?"Imagem":"Vdeo"));const{data:I,error:te}=await _;if(te){console.error("Erro ao buscar contedos:",te);return}if(i(I||[]),d==="qrcode"){const{data:ae,error:M}=await U.from("promo").select("*").eq("uid",e.id).order("created_at",{ascending:!1});M?console.error("Erro ao buscar QR Codes:",M):l(ae||[])}else l([])}catch(_){console.error("Erro ao buscar contedos:",_)}finally{u(!1)}},Ve=_=>{switch(_){case"resumo":n("/dashboard");break;case"displays":n("/dashboard/displays");break;case"anuncios":n("/dashboard/anuncios");break;case"playlists":n("/dashboard/playlists");break;case"agendamentos":n("/dashboard/agendamentos");break}},_n=()=>{V(!R)},Ci=async()=>{try{await t(),n("/")}catch(_){console.error("Erro ao fazer logout:",_)}},yp=()=>{V(!1),sn(!0)},wp=()=>{he(""),an(""),z(""),P(!0)},xp=()=>{if(!_e)return;const _=document.createElement("a");_.href=_e,_.download=`promo_${b}.png`,document.body.appendChild(_),_.click(),document.body.removeChild(_)},vu=()=>{P(!1),he(""),an(""),z("")},jp=async(_,I)=>new Promise(te=>{const ae=document.createElement("canvas"),M=ae.getContext("2d");if(!M)return;M.roundRect||(M.roundRect=function(ct,qe,Kt,Nn,ln){this.beginPath(),this.moveTo(ct+ln,qe),this.lineTo(ct+Kt-ln,qe),this.quadraticCurveTo(ct+Kt,qe,ct+Kt,qe+ln),this.lineTo(ct+Kt,qe+Nn-ln),this.quadraticCurveTo(ct+Kt,qe+Nn,ct+Kt-ln,qe+Nn),this.lineTo(ct+ln,qe+Nn),this.quadraticCurveTo(ct,qe+Nn,ct,qe+Nn-ln),this.lineTo(ct,qe+ln),this.quadraticCurveTo(ct,qe,ct+ln,qe),this.closePath()});const be=2560,Rt=1080;ae.width=be,ae.height=Rt,M.fillStyle="#FFFFFF",M.fillRect(0,0,be,Rt);const nr=M.createLinearGradient(0,0,be,0);nr.addColorStop(0,"#3B82F6"),nr.addColorStop(.5,"#8B5CF6"),nr.addColorStop(1,"#A855F7");const Ht=600,Sr=150,rr=(be-Ht)/2,vs=200;M.fillStyle=nr,M.roundRect(rr,vs,Ht,Sr,20),M.fill(),M.strokeStyle="#1E40AF",M.lineWidth=2,M.roundRect(rr,vs,Ht,Sr,20),M.stroke(),M.fillStyle="#FCD34D",M.font="bold 60px Arial",M.textAlign="center",M.fillText("",rr+90,vs+100),M.fillStyle="#FFFFFF",M.font="bold 55px Arial",M.textAlign="center",M.fillText("PROMO",rr+Ht/2,vs+100);const ma=new Image;ma.onload=()=>{const qe=(be-500)/2,Kt=vs+Sr+50;M.fillStyle="#FFFFFF",M.fillRect(qe-50,Kt-50,600,600),M.shadowColor="rgba(0, 0, 0, 0.1)",M.shadowBlur=40,M.shadowOffsetX=0,M.shadowOffsetY=15,M.drawImage(ma,qe,Kt,500,500),M.shadowColor="transparent",M.shadowBlur=0,M.shadowOffsetX=0,M.shadowOffsetY=0,M.strokeStyle="#E5E7EB",M.lineWidth=2,M.strokeRect(qe-10,Kt-10,520,520);const Nn=ae.toDataURL("image/png");te(Nn)},ma.src=_}),_p=async()=>{if(!(!F.trim()||!(e!=null&&e.id))){lt(!0);try{const _=Math.random().toString(36).substring(2,8).toUpperCase(),I=`${window.location.origin}/cupom/${_}`,te=await Ni.toDataURL(I,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),ae=await jp(te,_),be=await(await fetch(ae)).blob(),Rt=`promo_${_}_${Date.now()}.png`,{data:nr,error:Ht}=await U.storage.from("promos").upload(Rt,be,{contentType:"image/png"});if(Ht)throw Ht;const{data:Sr}=U.storage.from("promos").getPublicUrl(Rt),{error:rr}=await U.from("promo").insert({uid:e.id,id_promo:_,codigo_promo:F.trim(),texto_promo:"-",valor_promo:0,url_qrcode:Sr.publicUrl});if(rr)throw rr;an(Sr.publicUrl),z(_),ge(),le(!0),je(`Promo gerada com sucesso! ID: ${_}`),setTimeout(()=>{le(!1),je("")},3e3)}catch(_){console.error("Erro ao gerar Promo:",_),le(!0),je("Erro ao gerar Promo. Tente novamente."),setTimeout(()=>{le(!1),je("")},3e3)}finally{lt(!1)}}},Np=()=>{W(!0),ie(null),Ae(null),D("")},yu=_=>{ie(_),Ae(null)},kp=_=>{var te;const I=(te=_.target.files)==null?void 0:te[0];I&&Ae(I)},Sp=async()=>{if(!(!de||!ne||!A.trim()||!(e!=null&&e.id))){X(!0);try{const _=de.name.split(".").pop(),I=`${Date.now()}-${Math.random().toString(36).substring(2)}.${_}`,{data:te,error:ae}=await U.storage.from("conteudos").upload(I,de);if(ae)throw ae;const{data:M}=U.storage.from("conteudos").getPublicUrl(I),{error:be}=await U.from("conteudos").insert({uuid:e.id,url:M.publicUrl,tipo:ne==="imagem"?"Imagem":"Vdeo",titulo:A.trim(),tempo_exibicao:ne==="video"?10:5,codigoAnuncio:`ANUNCIO_${Date.now()}`});if(be)throw be;await ge(),W(!1),ie(null),Ae(null),D("")}catch(_){console.error("Erro ao fazer upload do anncio:",_)}finally{X(!1)}}},ua=()=>{W(!1),ie(null),Ae(null),D("")},wu=async _=>{if(ke(_),await Pp(),_.tipo==="QR Code"){const I=Math.floor(Math.random()*10)+1;Be(I)}else Be(1);Ee(!0)},Cp=_=>{er(_),ze(!0),Ep()},Ep=async()=>{try{const{data:_,error:I}=await U.from("displays").select("*").eq("token",e==null?void 0:e.id).order("created_at",{ascending:!1});if(I){console.error("Erro ao carregar displays:",I);return}Si(_||[])}catch(_){console.error("Erro ao carregar displays:",_)}},bp=async()=>{if(!(!pe||!tr||!(e!=null&&e.id))){Z(!0);try{const{data:_,error:I}=await U.from("conteudos").select("id").eq("uuid",e.id).eq("tipo","QR Code").eq("codigoAnuncio",pe.codigoAnuncio).single();if(I&&I.code!=="PGRST116"){console.error("Erro ao verificar contedo existente:",I);return}if(!_){const{error:ae}=await U.from("conteudos").insert({uuid:e.id,tipo:"QR Code",url:pe.url,titulo:pe.titulo,codigoAnuncio:pe.codigoAnuncio});if(ae){console.error("Erro ao salvar QR Code na tabela conteudos:",ae),le(!0),je("Erro ao salvar QR Code");return}}const{error:te}=await U.from("displays").update({conteudo_atual:"QR Code",conteudo_atual_link:pe.url,tipo:"Image",codigo_conteudoAtual:pe.codigoAnuncio}).eq("codigo_unico",tr);if(te){console.error("Erro ao atribuir  tela:",te),le(!0),je("Erro ao atribuir  tela");return}le(!0),je("QR Code atribudo  tela com sucesso!"),ze(!1),er(null),gs(""),ge()}catch(_){console.error("Erro ao atribuir  tela:",_),le(!0),je("Erro ao atribuir  tela")}finally{Z(!1)}}},da=()=>{ze(!1),er(null),gs("")},Pp=async()=>{try{if(!(e!=null&&e.id))return;const{data:_,error:I}=await U.from("playlists").select("*").eq("token",e.id).order("nome",{ascending:!0});if(I){console.error("Erro ao buscar playlists:",I);return}De(_||[])}catch(_){console.error("Erro ao buscar playlists:",_)}},Tp=async()=>{if(!(!q||!it||!(e!=null&&e.id))){nn(!0);try{if(q.tipo==="QR Code"){const{data:M,error:be}=await U.from("conteudos").select("id").eq("uuid",e.id).eq("tipo","QR Code").eq("codigoAnuncio",q.codigoAnuncio).single();if(be&&be.code!=="PGRST116"){console.error("Erro ao verificar contedo existente:",be);return}if(!M){const{error:Rt}=await U.from("conteudos").insert({uuid:e.id,tipo:"QR Code",url:q.url,titulo:q.titulo,codigoAnuncio:q.codigoAnuncio});if(Rt){console.error("Erro ao salvar QR Code na tabela conteudos:",Rt),le(!0),je("Erro ao salvar QR Code");return}}}const _=q.tipo==="QR Code"?"Imagem":q.tipo,{error:I}=await U.from("playlist_itens").insert({playlist_id:it,conteudo_id:q.id.toString(),ordem:Qe,url:q.url,nomeAnuncio:q.titulo,tipo:_,descricaoAnuncio:q.titulo,codigo_anuncio:q.codigoAnuncio});if(I){console.error("Erro ao adicionar  playlist:",I);return}const te=H.find(M=>M.codigo_unico===it),ae=(te==null?void 0:te.nome)||"Playlist";Ee(!1),ke(null),zt(""),Be(1),setTimeout(()=>{const M=`Anncio adicionado  playlist "${ae}"`;je(M),le(!0),setTimeout(()=>{le(!1),je("")},3e3)},100)}catch(_){console.error("Erro ao adicionar  playlist:",_)}finally{nn(!1)}}},ha=()=>{Ee(!1),ke(null),zt(""),Be(1)},Wt=_=>{switch(_){case"resumo":return r.pathname==="/dashboard";case"displays":return r.pathname==="/dashboard/displays";case"anuncios":return r.pathname==="/dashboard/anuncios";case"playlists":return r.pathname==="/dashboard/playlists";case"agendamentos":return r.pathname==="/dashboard/agendamentos";default:return!1}},Ap=_=>{v(_),C(_.titulo||""),x(!0)},Rp=_=>{v(_),g(!0)},Ip=async _=>{if(e)try{u(!0);const I=String(_.id).replace("qr-",""),{data:te,error:ae}=await U.from("promo").select("*").eq("id",I).eq("uid",e.id).single();if(ae||!te){console.error("Erro ao buscar dados do QR Code:",ae);return}const{error:M}=await U.from("conteudos").delete().eq("codigoAnuncio",te.id_promo);if(M&&console.error("Erro ao excluir da tabela conteudos:",M),te.url_qrcode){const Rt=te.url_qrcode.split("/"),nr=Rt[Rt.length-1],{error:Ht}=await U.storage.from("promos").remove([nr]);Ht&&console.error("Erro ao excluir do storage:",Ht)}const{error:be}=await U.from("promo").delete().eq("id",I).eq("uid",e.id);if(be){console.error("Erro ao excluir QR Code:",be);return}await ge(),le(!0),je("QR Code excludo com sucesso!"),setTimeout(()=>{le(!1),je("")},3e3)}catch(I){console.error("Erro ao excluir QR Code:",I),le(!0),je("Erro ao excluir QR Code"),setTimeout(()=>{le(!1),je("")},3e3)}finally{u(!1)}},Op=_=>{v(_),p(!0)},Lp=async()=>{if(f){E(!0);try{const{error:_}=await U.from("conteudos").update({titulo:j}).eq("id",f.id);if(_)throw _;i(s.map(I=>I.id===f.id?{...I,titulo:j}:I)),x(!1),v(null)}catch(_){console.error("Erro ao editar contedo:",_)}finally{E(!1)}}},$p=async()=>{if(f){E(!0);try{if(f.url&&f.url.includes("supabase"))try{const I=f.url.split("/"),te=I[I.length-1],{error:ae}=await U.storage.from("conteudos").remove([te]);ae&&console.warn("Erro ao excluir do storage:",ae)}catch(I){console.warn("Erro ao excluir do storage:",I)}const{error:_}=await U.from("conteudos").delete().eq("id",f.id);if(_)throw _;i(s.filter(I=>I.id!==f.id)),g(!1),v(null)}catch(_){console.error("Erro ao excluir contedo:",_)}finally{E(!1)}}},Ei=_=>{switch(_){case"Imagem":return"";case"Vdeo":return"";case"QR Code":return"";default:return""}},Dp=_=>{switch(_){case"Imagem":return"tipo-imagem";case"Vdeo":return"tipo-video";case"QR Code":return"tipo-qrcode";default:return"tipo-default"}},Mp=_=>_?new Date(_).toLocaleString("pt-BR"):"N/A",fa=()=>Math.ceil(ot.length/at),Up=()=>{const _=(Se-1)*at,I=_+at;return ot.slice(_,I)},Fp=_=>{At(_)},Bp=()=>{Se>1&&At(Se-1)},zp=()=>{Se<fa()&&At(Se+1)};return c?o.jsxs("div",{className:"anuncios-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsx("div",{className:"user-avatar",children:"M"})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${Wt("resumo")?"active":""}`,onClick:()=>Ve("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${Wt("displays")?"active":""}`,onClick:()=>Ve("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${Wt("anuncios")?"active":""}`,onClick:()=>Ve("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${Wt("playlists")?"active":""}`,onClick:()=>Ve("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${Wt("agendamentos")?"active":""}`,onClick:()=>Ve("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"anuncios-header",children:o.jsx("h1",{children:"Anncios"})}),o.jsx("div",{className:"loading",children:"Carregando anncios..."})]})]}):o.jsxs("div",{className:"anuncios-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsxs("div",{className:"user-menu",children:[o.jsx("button",{className:"user-avatar",onClick:_n,children:"M"}),R&&o.jsxs("div",{className:"user-dropdown",children:[o.jsx("button",{className:"user-dropdown-item",onClick:yp,children:" Configuraes"}),o.jsx("button",{className:"user-dropdown-item logout",onClick:Ci,children:" Sair"})]})]})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${Wt("resumo")?"active":""}`,onClick:()=>Ve("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${Wt("displays")?"active":""}`,onClick:()=>Ve("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${Wt("anuncios")?"active":""}`,onClick:()=>Ve("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${Wt("playlists")?"active":""}`,onClick:()=>Ve("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${Wt("agendamentos")?"active":""}`,onClick:()=>Ve("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"anuncios-header",children:[o.jsxs("div",{className:"header-top",children:[o.jsx("h1",{children:"Anncios"}),o.jsxs("div",{className:"header-actions",children:[o.jsxs("div",{className:"filter-section",children:[o.jsxs("div",{className:"filter-toggle",children:[o.jsx("button",{className:`filter-button ${d==="todos"?"active":""}`,onClick:()=>h("todos"),children:"Todos"}),o.jsx("button",{className:`filter-button ${d==="imagem"?"active":""}`,onClick:()=>h("imagem"),children:" Imagens"}),o.jsx("button",{className:`filter-button ${d==="video"?"active":""}`,onClick:()=>h("video"),children:" Vdeos"}),o.jsx("button",{className:`filter-button ${d==="qrcode"?"active":""}`,onClick:()=>h("qrcode"),children:" QR Codes"})]}),o.jsxs("div",{className:"subheader-buttons",children:[o.jsx("button",{className:"subheader-button promo-button",children:" Promo"}),o.jsx("button",{className:"subheader-button qr-button",onClick:wp,children:" QR Code"})]})]}),o.jsx("button",{className:"create-button",onClick:Np,children:" Adicionar"})]})]}),o.jsx("div",{className:"search-container",children:o.jsxs("div",{className:"search-input-wrapper",children:[o.jsx("input",{type:"text",placeholder:"Pesquisar anncios...",value:oe,onChange:_=>jn(_.target.value),className:"search-input"}),o.jsx("div",{className:"search-icon",children:""})]})})]}),ot.length===0&&oe.trim()?o.jsxs("div",{className:"no-results",children:[o.jsx("div",{className:"no-results-icon",children:""}),o.jsx("div",{className:"no-results-text",children:"Nenhum anncio encontrado"}),o.jsx("div",{className:"no-results-hint",children:"Tente pesquisar por outro termo"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"conteudos-grid",children:Up().map(_=>o.jsxs("div",{className:"conteudo-card",children:[o.jsx("div",{className:"conteudo-preview clickable-preview",onClick:()=>Op(_),children:_.url?o.jsxs("div",{className:"preview-container",children:[_.tipo==="Vdeo"?o.jsx("video",{src:_.url,className:"preview-media",muted:!0,preload:"metadata",onLoadedData:I=>{I.currentTarget.currentTime=1,I.currentTarget.pause()}}):o.jsx("img",{src:_.url,className:"preview-media",alt:_.titulo||"Contedo",onError:I=>{var te;I.currentTarget.style.display="none",(te=I.currentTarget.nextElementSibling)==null||te.classList.remove("hidden")}}),o.jsxs("div",{className:"preview-fallback hidden",children:[o.jsx("div",{className:"fallback-icon",children:Ei(_.tipo)}),o.jsx("div",{className:"fallback-text",children:"Preview no disponvel"})]})]}):o.jsxs("div",{className:"preview-placeholder",children:[o.jsx("div",{className:"placeholder-icon",children:Ei(_.tipo)}),o.jsx("div",{className:"placeholder-text",children:"Sem URL"})]})}),o.jsxs("div",{className:"conteudo-info",children:[o.jsxs("div",{className:"conteudo-header",children:[o.jsx("h3",{className:"conteudo-titulo",children:_.titulo||`Contedo ${_.id}`}),o.jsxs("div",{className:"conteudo-actions",children:[o.jsxs("span",{className:`tipo-badge ${Dp(_.tipo)}`,children:[Ei(_.tipo)," ",_.tipo||"N/A"]}),o.jsxs("div",{className:"actions-menu",children:[o.jsx("button",{className:"actions-button",onClick:()=>{const I=document.getElementById(`menu-${_.id}`);I&&I.classList.toggle("show")},children:""}),o.jsx("div",{id:`menu-${_.id}`,className:"actions-dropdown",children:_.tipo==="QR Code"?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-item",onClick:()=>{var I;wu(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Adicionar  playlist"}),o.jsx("button",{className:"action-item",onClick:()=>{var I;Cp(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Atribuir  tela"}),o.jsx("button",{className:"action-item delete-action",onClick:()=>{var I;Ip(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Excluir"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-item",onClick:()=>{var I;Ap(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Editar"}),o.jsx("button",{className:"action-item",onClick:()=>{var I;wu(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Adicionar  playlist"}),o.jsx("button",{className:"action-item delete",onClick:()=>{var I;Rp(_),(I=document.getElementById(`menu-${_.id}`))==null||I.classList.remove("show")},children:" Excluir"})]})})]})]})]}),o.jsxs("div",{className:"conteudo-details",children:[o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Criado em:"}),o.jsx("span",{className:"detail-value",children:Mp(_.created_at)})]}),_.tempo_exibicao&&o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Durao:"}),o.jsxs("span",{className:"detail-value",children:[_.tempo_exibicao,"s"]})]})]})]})]},_.id))}),ot.length>at&&o.jsxs("div",{className:"pagination-controls",children:[o.jsxs("div",{className:"pagination-info",children:["Mostrando ",(Se-1)*at+1," - ",Math.min(Se*at,ot.length)," de ",ot.length," anncios"]}),o.jsxs("div",{className:"pagination-buttons",children:[o.jsx("button",{className:"pagination-button prev",onClick:Bp,disabled:Se===1,children:" Anterior"}),o.jsx("div",{className:"pagination-pages",children:Array.from({length:fa()},(_,I)=>I+1).map(_=>o.jsx("button",{className:`pagination-page ${Se===_?"active":""}`,onClick:()=>Fp(_),children:_},_))}),o.jsx("button",{className:"pagination-button next",onClick:zp,disabled:Se===fa(),children:"Prxima "})]})]})]}),s.length===0&&!oe.trim()&&o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhum anncio encontrado."})})]}),m&&f&&o.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:o.jsxs("div",{className:"view-modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"view-modal-header",children:[o.jsx("h3",{children:f.titulo||`Contedo ${f.id}`}),o.jsx("button",{className:"close-button",onClick:()=>p(!1),children:""})]}),o.jsx("div",{className:"view-modal-body",children:f.url?o.jsx("div",{className:"view-media-container",children:f.tipo==="Vdeo"?o.jsx("video",{src:f.url,className:"view-media",autoPlay:!0,loop:!0,muted:!0,controls:!1,playsInline:!0}):o.jsx("img",{src:f.url,className:"view-media",alt:f.titulo||"Contedo"})}):o.jsxs("div",{className:"view-no-media",children:[o.jsx("div",{className:"no-media-icon",children:Ei(f.tipo)}),o.jsx("div",{className:"no-media-text",children:"URL no disponvel"})]})})]})}),w&&f&&o.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Editar Contedo"}),o.jsx("button",{className:"close-button",onClick:()=>x(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"edit-titulo",className:"form-label",children:"Nome do Contedo"}),o.jsx("input",{type:"text",id:"edit-titulo",value:j,onChange:_=>C(_.target.value),className:"form-input",placeholder:"Digite o nome do contedo"})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:()=>x(!1),disabled:k,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:Lp,disabled:k,children:k?"Salvando...":"Salvar"})]})]})}),N&&f&&o.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Excluir Contedo"}),o.jsx("button",{className:"close-button",onClick:()=>g(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"delete-warning",children:[o.jsx("div",{className:"warning-icon",children:""}),o.jsx("p",{children:"Tem certeza que deseja excluir este contedo?"}),o.jsxs("p",{className:"content-name",children:['"',f.titulo||`Contedo ${f.id}`,'"']}),o.jsx("p",{className:"warning-text",children:"Esta ao no pode ser desfeita e o arquivo ser removido do storage."})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:()=>g(!1),disabled:k,children:"Cancelar"}),o.jsx("button",{className:"delete-button",onClick:$p,disabled:k,children:k?"Excluindo...":"Excluir"})]})]})}),L&&o.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Configuraes"}),o.jsx("button",{className:"close-button",onClick:()=>ee(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"construction-message",children:[o.jsx("div",{className:"construction-icon",children:""}),o.jsx("h4",{children:"Em Construo"}),o.jsx("p",{children:"Esta funcionalidade est sendo desenvolvida e estar disponvel em breve."})]})}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-button",onClick:()=>ee(!1),children:"Fechar"})})]})}),Q&&o.jsx("div",{className:"modal-overlay",onClick:ua,children:o.jsxs("div",{className:"modal-content add-modal",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Adicionar Anncio"}),o.jsx("button",{className:"close-button",onClick:ua,children:""})]}),o.jsx("div",{className:"modal-body",children:ne?o.jsxs("div",{className:"upload-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"anuncio-titulo",className:"form-label",children:"Ttulo do Anncio"}),o.jsx("input",{type:"text",id:"anuncio-titulo",value:A,onChange:_=>D(_.target.value),className:"form-input",placeholder:"Digite o ttulo do anncio"})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"media-file",className:"form-label",children:["Selecionar ",ne==="imagem"?"Imagem":"Vdeo"]}),o.jsxs("div",{className:"file-upload-area",children:[o.jsx("input",{type:"file",id:"media-file",accept:ne==="imagem"?"image/*":"video/*",onChange:kp,className:"file-input"}),o.jsx("label",{htmlFor:"media-file",className:"file-upload-label",children:de?o.jsxs("div",{className:"file-selected",children:[o.jsx("div",{className:"file-icon",children:ne==="imagem"?"":""}),o.jsx("div",{className:"file-name",children:de.name}),o.jsxs("div",{className:"file-size",children:[(de.size/(1024*1024)).toFixed(2)," MB"]})]}):o.jsxs("div",{className:"file-placeholder",children:[o.jsx("div",{className:"upload-icon",children:""}),o.jsxs("div",{className:"upload-text",children:["Clique para selecionar ",ne==="imagem"?"uma imagem":"um vdeo"]}),o.jsxs("div",{className:"upload-hint",children:["Formatos aceitos: ",ne==="imagem"?"JPG, PNG, GIF":"MP4, AVI, MOV"]})]})})]})]}),de&&o.jsxs("div",{className:"file-preview",children:[o.jsx("h4",{children:"Preview:"}),o.jsx("div",{className:"preview-container",children:ne==="imagem"?o.jsx("img",{src:URL.createObjectURL(de),alt:"Preview",className:"preview-image"}):o.jsx("video",{src:URL.createObjectURL(de),className:"preview-video",controls:!0,muted:!0})})]})]}):o.jsxs("div",{className:"media-type-selection",children:[o.jsx("h4",{children:"Selecione o tipo de mdia:"}),o.jsxs("div",{className:"media-type-buttons",children:[o.jsxs("button",{className:"media-type-button",onClick:()=>yu("imagem"),children:[o.jsx("div",{className:"media-type-icon",children:""}),o.jsx("div",{className:"media-type-label",children:"Imagem"})]}),o.jsxs("button",{className:"media-type-button",onClick:()=>yu("video"),children:[o.jsx("div",{className:"media-type-icon",children:""}),o.jsx("div",{className:"media-type-label",children:"Vdeo"})]})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:ua,disabled:$,children:"Cancelar"}),ne&&o.jsx("button",{className:"back-button",onClick:()=>ie(null),disabled:$,children:" Voltar"}),ne&&de&&A.trim()&&o.jsx("button",{className:"save-button",onClick:Sp,disabled:$,children:$?"Enviando...":"Adicionar Anncio"})]})]})}),G&&q&&o.jsx("div",{className:"modal-overlay",onClick:ha,children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Adicionar  Playlist"}),o.jsx("button",{className:"close-button",onClick:ha,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"playlist-selection-form",children:[o.jsxs("div",{className:"conteudo-info",children:[o.jsx("h4",{children:"Contedo:"}),o.jsxs("div",{className:"conteudo-preview",children:[o.jsx("div",{className:"conteudo-media",children:q.url?o.jsxs("div",{className:"conteudo-thumbnail",children:[q.tipo==="Vdeo"?o.jsx("video",{src:q.url,className:"conteudo-video",muted:!0,loop:!0,autoPlay:!0,preload:"metadata"}):o.jsx("img",{src:q.url,className:"conteudo-image",alt:q.titulo||"Contedo",onError:_=>{var I;_.currentTarget.style.display="none",(I=_.currentTarget.nextElementSibling)==null||I.classList.remove("hidden")}}),o.jsx("div",{className:"conteudo-fallback hidden",children:o.jsx("div",{className:"fallback-icon",children:q.tipo==="Vdeo"?"":""})})]}):o.jsx("div",{className:"conteudo-placeholder",children:o.jsx("div",{className:"placeholder-icon",children:q.tipo==="Vdeo"?"":""})})}),o.jsxs("div",{className:"conteudo-details",children:[o.jsx("div",{className:"conteudo-name",children:q.titulo||`Contedo ${q.id}`}),o.jsx("div",{className:"conteudo-type",children:q.tipo||"N/A"})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"playlist-select",className:"form-label",children:"Selecionar Playlist"}),o.jsxs("select",{id:"playlist-select",value:it,onChange:_=>zt(_.target.value),className:"form-select",disabled:Ge,children:[o.jsx("option",{value:"",children:"Escolha uma playlist"}),H.map(_=>o.jsxs("option",{value:_.codigo_unico,children:[_.nome||`Playlist ${_.id}`," (",_.qtdmidias||0," itens)"]},_.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"playlist-order",className:"form-label",children:"Ordem na Playlist"}),o.jsx("input",{type:"number",id:"playlist-order",value:Qe,onChange:_=>Be(parseInt(_.target.value)||1),className:"form-input",min:"1",disabled:Ge})]}),H.length===0&&o.jsxs("div",{className:"no-playlists",children:[o.jsx("div",{className:"no-playlists-icon",children:""}),o.jsx("div",{className:"no-playlists-text",children:"Nenhuma playlist encontrada"}),o.jsx("div",{className:"no-playlists-hint",children:"Crie uma playlist primeiro"})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:ha,disabled:Ge,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:Tp,disabled:Ge||!it||Qe<1,children:Ge?"Adicionando...":"Adicionar  Playlist"})]})]})}),Vt&&gm.createPortal(o.jsx("div",{className:"notification",children:o.jsxs("div",{className:"notification-content",children:[o.jsx("div",{className:"notification-icon",children:""}),o.jsx("div",{className:"notification-message",children:Me})]})}),document.body),B&&pe&&o.jsx("div",{className:"modal-overlay",onClick:da,children:o.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Atribuir QR Code  Tela"}),o.jsx("button",{className:"close-button",onClick:da,children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"conteudo-info",children:[o.jsx("div",{className:"conteudo-thumbnail",children:o.jsx("img",{src:pe.url||"",alt:pe.titulo||"QR Code",className:"conteudo-image"})}),o.jsx("div",{className:"conteudo-details",children:o.jsx("h4",{children:pe.titulo||"QR Code"})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"display-select",className:"form-label",children:"Selecionar Tela"}),o.jsxs("select",{id:"display-select",value:tr,onChange:_=>gs(_.target.value),className:"form-select",disabled:S,children:[o.jsx("option",{value:"",children:"Escolha uma tela"}),gt.map(_=>o.jsxs("option",{value:_.codigo_unico,children:[_.nome||`Display ${_.id}`," - ",_.local||"Local no definido"]},_.id))]})]}),gt.length===0&&o.jsxs("div",{className:"no-displays",children:[o.jsx("div",{className:"no-displays-icon",children:""}),o.jsx("div",{className:"no-displays-text",children:"Nenhuma tela encontrada"}),o.jsx("div",{className:"no-displays-hint",children:"Crie uma tela primeiro"})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:da,disabled:S,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:bp,disabled:S||!tr,children:S?"Atribuindo...":"Atribuir  Tela"})]})]})}),on&&o.jsx("div",{className:"modal-overlay",onClick:vu,children:o.jsxs("div",{className:"modal-content qr-modal",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Criar Promo"}),o.jsx("button",{className:"close-button",onClick:vu,children:""})]}),o.jsx("div",{className:"modal-body",children:_e?o.jsxs("div",{className:"qr-result",children:[o.jsx("div",{className:"qr-success-message",children:" Promo gerada com sucesso!"}),o.jsxs("div",{className:"qr-info",children:[o.jsxs("div",{className:"qr-id",children:["ID da Promo: ",o.jsx("strong",{children:b})]}),o.jsx("div",{className:"qr-code-preview",children:o.jsx("img",{src:_e,alt:"Promo gerada",className:"qr-image"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"qr-instruction",children:"Digite o cdigo da promoo"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"qr-code",className:"form-label",children:"Cdigo da Promo"}),o.jsx("input",{type:"text",id:"qr-code",value:F,onChange:_=>he(_.target.value),className:"form-input",placeholder:"EX: BLACKFRI"})]})]})}),o.jsx("div",{className:"modal-actions",children:_e?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"download-button",onClick:xp,children:" Baixar Promo"}),o.jsx("button",{className:"new-qr-button",onClick:()=>{he(""),an(""),z("")},children:" Nova Promo"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"clear-button",onClick:()=>he(""),disabled:Re,children:"Limpar"}),o.jsx("button",{className:"generate-button",onClick:_p,disabled:!F.trim()||Re,children:Re?"Gerando...":"Gerar Promo"})]})})]})}),o.jsx(_i,{isOpen:rn,onClose:()=>sn(!1)})]})},xj=()=>{const{user:e,signOut:t}=Xn(),n=Nr(),r=Jn(),[s,i]=y.useState([]),[a,l]=y.useState(!0),[c,u]=y.useState(null),[d,h]=y.useState(!1),[f,v]=y.useState(!1),[w,x]=y.useState({nome:""}),[N,g]=y.useState(!1),[m,p]=y.useState(!1),[j,C]=y.useState(!1),[k,E]=y.useState(!1),[R,V]=y.useState(!1),[L,ee]=y.useState(!1),[Q,W]=y.useState(!1),[ne,ie]=y.useState({nome:""}),[de,Ae]=y.useState(!1),[A,D]=y.useState([]),[$,X]=y.useState(!1),[G,Ee]=y.useState({}),[q,ke]=y.useState(!1),[H,De]=y.useState(null),[it,zt]=y.useState(!1),[Qe,Be]=y.useState("");y.useEffect(()=>{Ge()},[]),y.useEffect(()=>{const b=z=>{const B=z.target;B.closest(".user-menu")||p(!1),B.closest(".actions-menu")||document.querySelectorAll(".actions-dropdown.show").forEach(ze=>{ze.classList.remove("show")})};return document.addEventListener("click",b),()=>document.removeEventListener("click",b)},[]);const Ge=async()=>{try{if(!(e!=null&&e.id))return;const{data:b,error:z}=await U.from("playlists").select("*").eq("token",e.id).order("created_at",{ascending:!1});if(z){console.error("Erro ao buscar playlists:",z);return}const B=await Promise.all((b||[]).map(async ze=>{const{count:pe}=await U.from("playlist_itens").select("*",{count:"exact",head:!0}).eq("playlist_id",ze.codigo_unico);return{...ze,qtdmidias:pe||0}}));i(B)}catch(b){console.error("Erro ao buscar playlists:",b)}finally{l(!1)}},nn=async b=>{u(b),v(!0),await Vt(b.codigo_unico)},Vt=async b=>{if(b){X(!0);try{const{data:z,error:B}=await U.from("playlist_itens").select("*").eq("playlist_id",b).order("ordem",{ascending:!0});if(B){console.error("Erro ao buscar itens da playlist:",B);return}D(z||[])}catch(z){console.error("Erro ao buscar itens da playlist:",z)}finally{X(!1)}}},le=(b,z)=>{Ee(B=>({...B,[b]:z}))},Me=async b=>{const z=G[b];if(z!==void 0)try{const{error:B}=await U.from("playlist_itens").update({ordem:z}).eq("id",b);if(B){console.error("Erro ao atualizar ordem:",B);return}D(ze=>ze.map(pe=>pe.id===b?{...pe,ordem:z}:pe).sort((pe,er)=>(pe.ordem||0)-(er.ordem||0))),Ee(ze=>{const pe={...ze};return delete pe[b],pe})}catch(B){console.error("Erro ao atualizar ordem:",B)}},je=b=>{Ee(z=>{const B={...z};return delete B[b],B})},oe=b=>{De(b),ke(!0)},jn=async()=>{if(!(!H||!c))try{const{error:b}=await U.from("playlist_itens").delete().eq("id",H.id);if(b){console.error("Erro ao remover item da playlist:",b);return}D(z=>z.filter(B=>B.id!==H.id)),await Ge(),ke(!1),De(null),setTimeout(()=>{const z=`Item removido da playlist "${c.nome||"Playlist"}"`;Be(z),zt(!0),setTimeout(()=>{zt(!1),Be("")},3e3)},100)}catch(b){console.error("Erro ao remover item da playlist:",b)}},ot=()=>{ke(!1),De(null)},qt=b=>{u(b),x({nome:b.nome||""}),h(!0)},Se=async()=>{if(c){g(!0);try{const{error:b}=await U.from("playlists").update({nome:w.nome}).eq("id",c.id);if(b){console.error("Erro ao salvar configurao:",b);return}i(s.map(z=>z.id===c.id?{...z,nome:w.nome}:z)),h(!1)}catch(b){console.error("Erro ao salvar configurao:",b)}finally{g(!1)}}},At=()=>{V(!0)},at=async()=>{if(c){ee(!0);try{const{error:b}=await U.from("playlists").delete().eq("id",c.id);if(b){console.error("Erro ao excluir playlist:",b);return}await Ge(),V(!1),h(!1),u(null)}catch(b){console.error("Erro ao excluir playlist:",b)}finally{ee(!1)}}},rn=()=>{V(!1)},sn=()=>{ie({nome:""}),W(!0)},on=async()=>{if(!(!ne.nome.trim()||!(e!=null&&e.id))){Ae(!0);try{const b=`PLAYLIST_${Date.now()}_${Math.random().toString(36).substring(2,8).toUpperCase()}`,{error:z}=await U.from("playlists").insert({token:e.id,nome:ne.nome.trim(),tipo:"Playlist",codigo_unico:b,locked:!1,qtdmidias:0});if(z){console.error("Erro ao criar playlist:",z);return}await Ge(),W(!1),ie({nome:""})}catch(b){console.error("Erro ao criar playlist:",b)}finally{Ae(!1)}}},P=()=>{W(!1),ie({nome:""})},F=b=>{switch(b){case"resumo":n("/dashboard");break;case"displays":n("/dashboard/displays");break;case"anuncios":n("/dashboard/anuncios");break;case"playlists":n("/dashboard/playlists");break;case"agendamentos":n("/dashboard/agendamentos");break}},he=()=>{p(!m)},Re=async()=>{try{await t(),n("/")}catch(b){console.error("Erro ao fazer logout:",b)}},lt=()=>{p(!1),C(!0)},_e=b=>{switch(b){case"resumo":return r.pathname==="/dashboard";case"displays":return r.pathname==="/dashboard/displays";case"anuncios":return r.pathname==="/dashboard/anuncios";case"playlists":return r.pathname==="/dashboard/playlists";case"agendamentos":return r.pathname==="/dashboard/agendamentos";default:return!1}},an=b=>b?new Date(b).toLocaleString("pt-BR"):"N/A";return a?o.jsxs("div",{className:"playlists-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsx("div",{className:"user-avatar",children:"M"})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${_e("resumo")?"active":""}`,onClick:()=>F("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${_e("displays")?"active":""}`,onClick:()=>F("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${_e("anuncios")?"active":""}`,onClick:()=>F("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${_e("playlists")?"active":""}`,onClick:()=>F("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${_e("agendamentos")?"active":""}`,onClick:()=>F("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"playlists-header",children:o.jsx("h1",{children:"Playlists"})}),o.jsx("div",{className:"loading",children:"Carregando playlists..."})]})]}):o.jsxs("div",{className:"playlists-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("div",{className:"logo-title",children:"MRIT Vision"}),o.jsx("div",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsxs("div",{className:"user-menu",children:[o.jsx("button",{className:"user-avatar",onClick:he,children:"M"}),m&&o.jsxs("div",{className:"user-dropdown",children:[o.jsx("button",{className:"user-dropdown-item",onClick:lt,children:" Configuraes"}),o.jsx("button",{className:"user-dropdown-item logout",onClick:Re,children:" Sair"})]})]})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${_e("resumo")?"active":""}`,onClick:()=>F("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${_e("displays")?"active":""}`,onClick:()=>F("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${_e("anuncios")?"active":""}`,onClick:()=>F("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${_e("playlists")?"active":""}`,onClick:()=>F("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${_e("agendamentos")?"active":""}`,onClick:()=>F("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"playlists-header",children:[o.jsx("h1",{children:"Playlists"}),o.jsx("button",{className:"create-button",onClick:sn,children:" Nova Playlist"})]}),o.jsx("div",{className:"playlists-grid",children:s.map(b=>o.jsxs("div",{className:"playlist-card",onClick:()=>nn(b),children:[o.jsxs("div",{className:"playlist-header",children:[o.jsx("h3",{children:b.nome||`Playlist ${b.id}`}),o.jsx("div",{className:"playlist-actions",children:o.jsxs("div",{className:"actions-menu",children:[o.jsx("button",{className:"actions-button",onClick:z=>{z.stopPropagation();const B=document.getElementById(`menu-${b.id}`);B&&B.classList.toggle("show")},children:""}),o.jsxs("div",{id:`menu-${b.id}`,className:"actions-dropdown",children:[o.jsx("button",{className:"action-item",onClick:z=>{var B;z.stopPropagation(),qt(b),(B=document.getElementById(`menu-${b.id}`))==null||B.classList.remove("show")},children:" Editar"}),o.jsx("button",{className:"action-item delete",onClick:z=>{var B;z.stopPropagation(),At(),(B=document.getElementById(`menu-${b.id}`))==null||B.classList.remove("show")},children:" Excluir"})]})]})})]}),o.jsxs("div",{className:"playlist-info",children:[o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Criada em:"}),o.jsx("span",{className:"value",children:an(b.created_at)})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Mdias:"}),o.jsxs("span",{className:"value",children:[b.qtdmidias||0," itens"]})]}),o.jsxs("div",{className:"info-row",children:[o.jsx("span",{className:"label",children:"Tipo:"}),o.jsx("span",{className:"value",children:b.tipo||"N/A"})]})]})]},b.id))}),s.length===0&&o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"Nenhuma playlist encontrada."})})]}),f&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:o.jsxs("div",{className:"view-modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"view-modal-header",children:[o.jsx("h3",{children:c.nome||`Playlist ${c.id}`}),o.jsx("button",{className:"close-button",onClick:()=>v(!1),children:""})]}),o.jsx("div",{className:"view-modal-body",children:$?o.jsxs("div",{className:"loading-items",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Carregando contedo da playlist..."})]}):A.length===0?o.jsxs("div",{className:"empty-playlist",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("div",{className:"empty-text",children:"Esta playlist est vazia"}),o.jsx("div",{className:"empty-hint",children:"Adicione contedo para visualizar aqui"})]}):o.jsxs("div",{className:"playlist-content",children:[o.jsx("div",{className:"playlist-items-header",children:o.jsxs("h4",{children:["Contedo da Playlist (",A.length," itens)"]})}),o.jsx("div",{className:"playlist-items-list",children:A.map((b,z)=>o.jsxs("div",{className:"playlist-item",children:[o.jsx("div",{className:"item-thumbnail",children:b.url?o.jsxs("div",{className:"thumbnail-container",children:[b.tipo==="Vdeo"?o.jsx("video",{src:b.url,className:"thumbnail-media",muted:!0,preload:"metadata",onLoadedData:B=>{B.currentTarget.currentTime=1,B.currentTarget.pause()}}):o.jsx("img",{src:b.url,className:"thumbnail-media",alt:b.nomeAnuncio||"Contedo",onError:B=>{var ze;B.currentTarget.style.display="none",(ze=B.currentTarget.nextElementSibling)==null||ze.classList.remove("hidden")}}),o.jsx("div",{className:"thumbnail-fallback hidden",children:o.jsx("div",{className:"fallback-icon",children:b.tipo==="Vdeo"?"":""})})]}):o.jsx("div",{className:"thumbnail-placeholder",children:o.jsx("div",{className:"placeholder-icon",children:b.tipo==="Vdeo"?"":""})})}),o.jsxs("div",{className:"item-info",children:[o.jsx("div",{className:"item-name",children:b.nomeAnuncio||"Sem nome"}),o.jsx("div",{className:"item-type",children:b.tipo||"N/A"}),b.descricaoAnuncio&&o.jsx("div",{className:"item-description",children:b.descricaoAnuncio})]}),o.jsx("div",{className:"item-order",children:G[b.id]!==void 0?o.jsxs("div",{className:"order-edit",children:[o.jsx("input",{type:"number",value:G[b.id],onChange:B=>le(b.id,parseInt(B.target.value)||0),className:"order-input",min:"1"}),o.jsxs("div",{className:"order-actions",children:[o.jsx("button",{className:"save-order-btn",onClick:()=>Me(b.id),children:""}),o.jsx("button",{className:"cancel-order-btn",onClick:()=>je(b.id),children:""})]})]}):o.jsxs("div",{className:"order-display",children:[o.jsx("span",{className:"order-number",children:b.ordem||z+1}),o.jsxs("div",{className:"order-actions",children:[o.jsx("button",{className:"edit-order-btn",onClick:()=>Ee(B=>({...B,[b.id]:b.ordem||z+1})),title:"Editar ordem",children:""}),o.jsx("button",{className:"remove-item-btn",onClick:()=>oe(b),title:"Remover da playlist",children:""})]})]})})]},b.id))})]})})]})}),d&&c&&o.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:o.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h3",{children:["Configurar Playlist - ",c.nome||`Playlist ${c.id}`]}),o.jsx("button",{className:"close-button",onClick:()=>h(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"config-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"config-nome",className:"form-label",children:"Nome da Playlist"}),o.jsx("input",{type:"text",id:"config-nome",value:w.nome,onChange:b=>x({...w,nome:b.target.value}),className:"form-input",placeholder:"Digite o nome da playlist"})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"delete-playlist-button",onClick:At,disabled:N,title:"Excluir esta playlist",children:" Excluir playlist"}),o.jsxs("div",{className:"modal-actions-right",children:[o.jsx("button",{className:"cancel-button",onClick:()=>h(!1),disabled:N,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:Se,disabled:N,children:N?"Salvando...":"Salvar"})]})]})]})})]})}),R&&c&&o.jsx("div",{className:"modal-overlay",onClick:rn,children:o.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Excluir Playlist"}),o.jsx("button",{className:"close-button",onClick:rn,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"delete-warning",children:[o.jsx("div",{className:"warning-icon",children:""}),o.jsx("p",{children:"Tem certeza que deseja excluir esta playlist?"}),o.jsxs("p",{className:"playlist-name",children:['"',c.nome||`Playlist ${c.id}`,'"']}),o.jsx("p",{className:"warning-text",children:"Esta ao no pode ser desfeita e todos os dados da playlist sero perdidos."})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:rn,disabled:L,children:"Cancelar"}),o.jsx("button",{className:"delete-button",onClick:at,disabled:L,children:L?"Excluindo...":"Excluir Playlist"})]})]})}),k&&o.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:o.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Configuraes"}),o.jsx("button",{className:"close-button",onClick:()=>E(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"construction-message",children:[o.jsx("div",{className:"construction-icon",children:""}),o.jsx("h4",{children:"Em Construo"}),o.jsx("p",{children:"Esta funcionalidade est sendo desenvolvida e estar disponvel em breve."})]})}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{className:"cancel-button",onClick:()=>E(!1),children:"Fechar"})})]})}),Q&&o.jsx("div",{className:"modal-overlay",onClick:P,children:o.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Nova Playlist"}),o.jsx("button",{className:"close-button",onClick:P,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"config-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"new-nome",className:"form-label",children:"Nome da Playlist"}),o.jsx("input",{type:"text",id:"new-nome",value:ne.nome,onChange:b=>ie({...ne,nome:b.target.value}),className:"form-input",placeholder:"Digite o nome da playlist",disabled:de})]}),o.jsxs("div",{className:"add-info",children:[o.jsx("div",{className:"info-icon",children:""}),o.jsx("div",{className:"info-text",children:o.jsx("p",{children:"A playlist ser criada com 0 mdias e estar pronta para receber contedo."})})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:P,disabled:de,children:"Cancelar"}),o.jsx("button",{className:"save-button",onClick:on,disabled:de||!ne.nome.trim(),children:de?"Criando...":"Criar Playlist"})]})]})}),q&&H&&o.jsx("div",{className:"modal-overlay",onClick:ot,children:o.jsxs("div",{className:"modal-content",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Remover da Playlist"}),o.jsx("button",{className:"close-button",onClick:ot,children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"remove-warning",children:[o.jsx("div",{className:"warning-icon",children:""}),o.jsxs("div",{className:"warning-text",children:[o.jsx("p",{children:"Tem certeza que deseja remover este item da playlist?"}),o.jsxs("div",{className:"item-to-remove",children:[o.jsx("strong",{children:H.nomeAnuncio||"Item sem nome"}),o.jsx("span",{className:"item-type",children:H.tipo||"N/A"})]})]})]})}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"cancel-button",onClick:ot,children:"Cancelar"}),o.jsx("button",{className:"delete-button",onClick:jn,children:" Remover da Playlist"})]})]})}),it&&o.jsx("div",{className:"notification",children:o.jsxs("div",{className:"notification-content",children:[o.jsx("div",{className:"notification-icon",children:""}),o.jsx("div",{className:"notification-message",children:Qe})]})}),o.jsx(_i,{isOpen:j,onClose:()=>C(!1)})]})},jj=()=>{const{user:e,signOut:t}=Xn(),n=Nr(),r=Jn(),[s,i]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState(!0),[f,v]=y.useState(!1),[w,x]=y.useState(!1),[N,g]=y.useState(!1),[m,p]=y.useState(!1),[j,C]=y.useState(!1),[k,E]=y.useState(""),[R,V]=y.useState(!1),[L,ee]=y.useState(null),[Q,W]=y.useState({}),[ne,ie]=y.useState(""),[de,Ae]=y.useState(""),[A,D]=y.useState(""),[$,X]=y.useState(""),[G,Ee]=y.useState(""),[q,ke]=y.useState(""),[H,De]=y.useState("");y.useEffect(()=>{it(),zt(),Qe()},[]),y.useEffect(()=>{const P=F=>{w&&(F.target.closest(".user-menu-container")||x(!1))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[w]);const it=async()=>{try{if(!(e!=null&&e.email)){console.log("Usurio no logado ou email no disponvel");return}const{data:P,error:F}=await U.from("agendamentos").select("*").eq("pertence",e.email);if(F)throw console.error("Erro na query:",F),F;i(P||[])}catch(P){console.error("Erro ao buscar agendamentos:",P)}finally{h(!1)}},zt=async()=>{try{if(!(e!=null&&e.id))return;const{data:P,error:F}=await U.from("displays").select("id, codigo_unico, nome, token").eq("token",e.id).order("created_at",{ascending:!1});if(F)throw F;l(P||[])}catch(P){console.error("Erro ao buscar displays:",P)}},Qe=async()=>{try{if(!(e!=null&&e.id))return;const{data:P,error:F}=await U.from("conteudos").select("id, codigoAnuncio, titulo, url, tipo").eq("uuid",e.id).order("created_at",{ascending:!1});if(F)throw F;u(P||[])}catch(P){console.error("Erro ao buscar contedos:",P)}},Be=P=>{switch(P){case"resumo":n("/dashboard");break;case"displays":n("/dashboard/displays");break;case"anuncios":n("/dashboard/anuncios");break;case"playlists":n("/dashboard/playlists");break;case"agendamentos":n("/dashboard/agendamentos");break}},Ge=()=>{x(!w)},nn=async()=>{try{await t(),n("/login")}catch(P){console.error("Erro ao fazer logout:",P)}},Vt=()=>{x(!1),C(!0)},le=P=>{switch(P){case"resumo":return r.pathname==="/dashboard";case"displays":return r.pathname==="/dashboard/displays";case"anuncios":return r.pathname==="/dashboard/anuncios";case"playlists":return r.pathname==="/dashboard/playlists";case"agendamentos":return r.pathname==="/dashboard/agendamentos";default:return!1}},Me=async()=>{try{if(W({}),!ne||!de||!A||!$||!G||!q){W({geral:"Por favor, preencha todos os campos obrigatrios"});return}const P=Se();if(Object.keys(P).length>0){W(P);return}const F=a.find(z=>z.id.toString()===ne),he=c.find(z=>z.id.toString()===de);if(!F||!he){W({geral:"Erro ao encontrar display ou contedo selecionado"});return}const Re=new Date(`${A}T${$}:00`),lt=new Date(`${G}T${q}:00`),_e={display_id:F.codigo_unico,codigo_unico:he.codigoAnuncio,inicio:Re.toISOString(),fim:lt.toISOString(),titulo:he.titulo,pertence:e==null?void 0:e.email,url:he.url},{data:an,error:b}=await U.from("agendamentos").insert(_e).select();if(b)throw console.error("Erro ao criar agendamento:",b),b;E("Agendamento criado com sucesso!"),p(!0),setTimeout(()=>{p(!1),E("")},3e3),v(!1),je(),it()}catch(P){console.error("Erro ao criar agendamento:",P),W({geral:"Erro ao criar agendamento. Tente novamente."})}},je=()=>{ie(""),Ae(""),D(""),X(""),Ee(""),ke(""),De(""),W({})},oe=P=>{if(!A||!$){alert("Por favor, selecione primeiro a data e hora de incio");return}const F=new Date(`${A}T${$}:00`),he=new Date(F);he.setDate(he.getDate()+P),Ee(he.toISOString().split("T")[0]),ke(he.toTimeString().split(" ")[0].substring(0,5)),De(P.toString())},jn=P=>{ee(P),V(!0)},ot=async()=>{if(L)try{const{error:P}=await U.from("agendamentos").delete().eq("id",L);if(P)throw P;E("Agendamento excludo com sucesso!"),p(!0),setTimeout(()=>{p(!1),E("")},3e3),V(!1),ee(null),it()}catch(P){console.error("Erro ao excluir agendamento:",P),alert("Erro ao excluir agendamento")}},qt=()=>{V(!1),ee(null)},Se=()=>{const P={};if(!A||!$)return P.dataInicio="Data e hora de incio so obrigatrias",P;if(!G||!q)return P.dataFim="Data e hora de fim so obrigatrias",P;const F=new Date(`${A}T${$}`),he=new Date(`${G}T${q}`);F<=new Date&&(P.dataInicio="A data e hora de incio devem ser no futuro"),he<=F&&(P.dataFim="A data e hora de fim devem ser posteriores ao incio");const lt=new Date;return lt.setFullYear(lt.getFullYear()+1),F>lt&&(P.dataInicio="A data de incio no pode ser mais de 1 ano no futuro"),P},At=()=>{if(A&&$&&G&&q){const P=Se();W(P)}};pc.useEffect(()=>{At()},[A,$,G,q]);const at=()=>new Date().toISOString().split("T")[0],rn=()=>A===at()?new Date().toTimeString().split(" ")[0].substring(0,5):"00:00",sn=()=>G===A&&A&&$||"00:00",on=P=>P?new Date(P).toLocaleString("pt-BR"):"N/A";return d?o.jsx("div",{className:"agendamentos-container",children:o.jsxs("div",{className:"loading",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Carregando agendamentos..."})]})}):o.jsxs("div",{className:"agendamentos-container",children:[o.jsxs("div",{className:"top-nav",children:[o.jsx("div",{className:"nav-left",children:o.jsxs("div",{className:"logo",children:[o.jsx("div",{className:"logo-icon",children:"M"}),o.jsxs("div",{className:"logo-text",children:[o.jsx("h1",{className:"logo-title",children:"MRIT Vision"}),o.jsx("p",{className:"logo-subtitle",children:"Painel Web"})]})]})}),o.jsxs("div",{className:"nav-right",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-email",children:e==null?void 0:e.email}),o.jsx("div",{className:"user-status",children:"logado"})]}),o.jsxs("div",{className:"user-menu",children:[o.jsx("button",{className:"user-avatar",onClick:Ge,children:"M"}),w&&o.jsxs("div",{className:"user-dropdown",children:[o.jsx("button",{className:"user-dropdown-item",onClick:Vt,children:" Configuraes"}),o.jsx("button",{className:"user-dropdown-item logout",onClick:nn,children:" Sair"})]})]})]})]}),o.jsxs("div",{className:"main-nav",children:[o.jsxs("button",{className:`nav-tab ${le("resumo")?"active":""}`,onClick:()=>Be("resumo"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Resumo"]}),o.jsxs("button",{className:`nav-tab ${le("displays")?"active":""}`,onClick:()=>Be("displays"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Displays"]}),o.jsxs("button",{className:`nav-tab ${le("anuncios")?"active":""}`,onClick:()=>Be("anuncios"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Anncios"]}),o.jsxs("button",{className:`nav-tab ${le("playlists")?"active":""}`,onClick:()=>Be("playlists"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Playlists"]}),o.jsxs("button",{className:`nav-tab ${le("agendamentos")?"active":""}`,onClick:()=>Be("agendamentos"),children:[o.jsx("span",{className:"nav-icon",children:""}),"Agendamentos"]})]}),o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"content-header",children:[o.jsx("h2",{children:"Meus Agendamentos"}),o.jsx("button",{className:"btn-primary",onClick:()=>v(!0),children:"+ Novo Agendamento"})]}),o.jsx("div",{className:"agendamentos-grid",children:s.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h3",{children:"Nenhum agendamento encontrado"}),o.jsx("p",{children:"Crie seu primeiro agendamento para comear"})]}):s.map(P=>{var F,he;return o.jsxs("div",{className:"agendamento-card",children:[o.jsxs("div",{className:"agendamento-header",children:[o.jsxs("div",{className:"agendamento-title",children:[o.jsx("h3",{children:P.titulo}),o.jsx("span",{className:"agendamento-type",children:((F=c.find(Re=>Re.codigoAnuncio===P.codigo_unico))==null?void 0:F.tipo)||"Contedo"})]}),o.jsx("button",{className:"btn-delete",onClick:()=>jn(P.id),children:""})]}),o.jsx("div",{className:"agendamento-content",children:P.url&&o.jsx("div",{className:"content-preview",children:((he=c.find(Re=>Re.codigoAnuncio===P.codigo_unico))==null?void 0:he.tipo)==="Vdeo"?o.jsx("video",{src:P.url,className:"preview-media",muted:!0,loop:!0,playsInline:!0,preload:"metadata"}):o.jsx("img",{src:P.url,className:"preview-media",alt:P.titulo||"Contedo"})})}),o.jsxs("div",{className:"agendamento-info",children:[o.jsxs("div",{className:"info-row",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Display:"}),o.jsx("span",{className:"info-value",children:(()=>{const Re=a.find(lt=>lt.codigo_unico===P.display_id);return Re?`${Re.nome} (${P.display_id})`:P.display_id})()})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Cdigo:"}),o.jsx("span",{className:"info-value",children:P.codigo_unico})]})]}),o.jsxs("div",{className:"info-row",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Incio:"}),o.jsx("span",{className:"info-value",children:on(P.inicio)})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Fim:"}),o.jsx("span",{className:"info-value",children:on(P.fim)})]})]})]})]},P.id)})})]}),f&&o.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:o.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"Novo Agendamento"}),o.jsx("button",{className:"btn-close",onClick:()=>v(!1),children:""})]}),o.jsxs("div",{className:"modal-body",children:[Q.geral&&o.jsxs("div",{className:"error-general",children:[o.jsx("span",{className:"error-icon",children:""}),o.jsx("span",{className:"error-text",children:Q.geral})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"display",children:"Display *"}),o.jsxs("select",{id:"display",value:ne,onChange:P=>ie(P.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Selecione um display"}),a.map(P=>o.jsxs("option",{value:P.id,children:[P.nome," (",P.codigo_unico,")"]},P.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"conteudo",children:"Contedo *"}),o.jsxs("select",{id:"conteudo",value:de,onChange:P=>Ae(P.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Selecione um contedo"}),c.map(P=>o.jsx("option",{value:P.id,children:P.titulo},P.id))]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"dataInicio",children:"Data de Incio *"}),o.jsx("input",{type:"date",id:"dataInicio",value:A,min:at(),onChange:P=>{D(P.target.value),Q.dataInicio&&W(F=>({...F,dataInicio:""}))},required:!0,className:Q.dataInicio?"error":""}),Q.dataInicio&&o.jsx("span",{className:"error-message",children:Q.dataInicio})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"horaInicio",children:"Hora de Incio *"}),o.jsx("input",{type:"time",id:"horaInicio",value:$,min:rn(),onChange:P=>{X(P.target.value),Q.dataInicio&&W(F=>({...F,dataInicio:""}))},required:!0,className:Q.dataInicio?"error":""})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Perodo Predefinido"}),o.jsxs("div",{className:"periodo-buttons",children:[o.jsx("button",{type:"button",className:`periodo-btn ${H==="1"?"active":""}`,onClick:()=>oe(1),children:"1 Dia"}),o.jsx("button",{type:"button",className:`periodo-btn ${H==="3"?"active":""}`,onClick:()=>oe(3),children:"3 Dias"}),o.jsx("button",{type:"button",className:`periodo-btn ${H==="7"?"active":""}`,onClick:()=>oe(7),children:"7 Dias"}),o.jsx("button",{type:"button",className:`periodo-btn ${H==="15"?"active":""}`,onClick:()=>oe(15),children:"15 Dias"}),o.jsx("button",{type:"button",className:`periodo-btn ${H==="30"?"active":""}`,onClick:()=>oe(30),children:"30 Dias"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"dataFim",children:"Data de Fim *"}),o.jsx("input",{type:"date",id:"dataFim",value:G,min:A||at(),onChange:P=>{Ee(P.target.value),Q.dataFim&&W(F=>({...F,dataFim:""}))},required:!0,className:Q.dataFim?"error":""}),Q.dataFim&&o.jsx("span",{className:"error-message",children:Q.dataFim})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"horaFim",children:"Hora de Fim *"}),o.jsx("input",{type:"time",id:"horaFim",value:q,min:sn(),onChange:P=>{ke(P.target.value),Q.dataFim&&W(F=>({...F,dataFim:""}))},required:!0,className:Q.dataFim?"error":""})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Cancelar"}),o.jsx("button",{className:"btn-primary",onClick:Me,children:"Criar Agendamento"})]})]})}),N&&o.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:o.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"Em Construo"}),o.jsx("button",{className:"btn-close",onClick:()=>g(!1),children:""})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"construction-content",children:[o.jsx("div",{className:"construction-icon",children:""}),o.jsx("h3",{children:"Funcionalidade em Desenvolvimento"}),o.jsx("p",{children:"Esta funcionalidade est sendo desenvolvida e estar disponvel em breve."})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{className:"btn-primary",onClick:()=>g(!1),children:"Entendi"})})]})}),R&&o.jsx("div",{className:"modal-overlay",onClick:qt,children:o.jsxs("div",{className:"delete-modal-content",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"delete-modal-header",children:[o.jsx("div",{className:"delete-icon",children:""}),o.jsx("h2",{children:"Confirmar Excluso"})]}),o.jsxs("div",{className:"delete-modal-body",children:[o.jsx("p",{children:"Tem certeza que deseja excluir este agendamento?"}),o.jsx("p",{className:"delete-warning",children:"Esta ao no pode ser desfeita."})]}),o.jsxs("div",{className:"delete-modal-footer",children:[o.jsx("button",{className:"btn-cancel",onClick:qt,children:"Cancelar"}),o.jsx("button",{className:"btn-delete-confirm",onClick:ot,children:"Excluir"})]})]})}),m&&o.jsx("div",{className:"notification",children:o.jsxs("div",{className:"notification-content",children:[o.jsx("div",{className:"notification-icon",children:""}),o.jsx("div",{className:"notification-message",children:k})]})}),o.jsx(_i,{isOpen:j,onClose:()=>C(!1)})]})},_j=()=>o.jsxs(Am,{children:[o.jsx(Xt,{path:"/",element:o.jsx(Tx,{})}),o.jsx(Xt,{path:"/displays",element:o.jsx(Ax,{})}),o.jsx(Xt,{path:"/anuncios",element:o.jsx(wj,{})}),o.jsx(Xt,{path:"/playlists",element:o.jsx(xj,{})}),o.jsx(Xt,{path:"/agendamentos",element:o.jsx(jj,{})})]}),Nj=({children:e})=>{const{user:t,loading:n}=Xn();return n?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"white"},children:"Carregando..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(Tm,{to:"/",replace:!0})},kj=()=>{const{idPromo:e}=Hy(),[t,n]=y.useState(null),[r,s]=y.useState(!0),[i,a]=y.useState(null);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{s(!0),a(null);const{data:c,error:u}=await U.from("promo").select("*").eq("id_promo",e).single();if(u){u.code==="PGRST116"?a("Cupom no encontrado"):a("Erro ao buscar cupom");return}n(c)}catch(c){console.error("Erro ao buscar dados do cupom:",c),a("Erro ao carregar cupom")}finally{s(!1)}};return r?o.jsx("div",{className:"cupom-container",children:o.jsxs("div",{className:"cupom-loading",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Carregando cupom..."})]})}):i||!t?o.jsx("div",{className:"cupom-container",children:o.jsxs("div",{className:"cupom-error",children:[o.jsx("div",{className:"error-icon",children:""}),o.jsx("h2",{children:"Cupom no encontrado"}),o.jsx("p",{children:i||"O cupom solicitado no existe ou foi removido."}),o.jsxs("div",{className:"error-code",children:["ID: ",e]})]})}):o.jsxs("div",{className:"cupom-container",children:[o.jsx("div",{className:"cupom-card",children:o.jsx("div",{className:"cupom-content",children:o.jsxs("div",{className:"cupom-title",children:["#",t.codigo_promo]})})}),o.jsx("div",{className:"cupom-copyright",children:o.jsx("a",{href:"https://www.mrit.com.br",target:"_blank",rel:"noopener noreferrer",children:" MRIT"})})]})};function Sj(){return o.jsx(bx,{children:o.jsx(u0,{children:o.jsx("div",{className:"App",children:o.jsxs(Am,{children:[o.jsx(Xt,{path:"/",element:o.jsx(Px,{})}),o.jsx(Xt,{path:"/dashboard/*",element:o.jsx(Nj,{children:o.jsx(_j,{})})}),o.jsx(Xt,{path:"/cupom/:idPromo",element:o.jsx(kj,{})}),o.jsx(Xt,{path:"*",element:o.jsx(Tm,{to:"/",replace:!0})})]})})})})}const Cj=tl.createRoot(document.getElementById("root"));Cj.render(o.jsx(pc.StrictMode,{children:o.jsx(Sj,{})}));
